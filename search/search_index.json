{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to OneAPI Docs","text":"<p>OpenAI \u63a5\u53e3\u7ba1\u7406 &amp; \u5206\u53d1\u7cfb\u7edf\uff0c\u652f\u6301 Azure\u3001Anthropic Claude\u3001Google PaLM 2 &amp; Gemini\u3001\u667a\u8c31 ChatGLM\u3001\u767e\u5ea6\u6587\u5fc3\u4e00\u8a00\u3001\u8baf\u98de\u661f\u706b\u8ba4\u77e5\u3001\u963f\u91cc\u901a\u4e49\u5343\u95ee\u3001360 \u667a\u8111\u4ee5\u53ca\u817e\u8baf\u6df7\u5143\uff0c\u53ef\u7528\u4e8e\u4e8c\u6b21\u5206\u53d1\u7ba1\u7406 key\uff0c\u4ec5\u5355\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5df2\u6253\u5305\u597d Docker \u955c\u50cf\uff0c\u4e00\u952e\u90e8\u7f72\uff0c\u5f00\u7bb1\u5373\u7528. OpenAI key management &amp; redistribution system, using a single API for all LLMs, and features an English UI.</p>"},{"location":"en/","title":"English","text":"<p> \u4e2d\u6587 | English | \u65e5\u672c\u8a9e </p> <p> </p>   # One API  _\u2728 Access all LLM through the standard OpenAI API format, easy to deploy &amp; use \u2728_   <p> </p> <p> Deployment Tutorial   \u00b7   Usage   \u00b7   Feedback   \u00b7   Screenshots   \u00b7   Live Demo   \u00b7   FAQ   \u00b7   Related Projects   \u00b7   Donate </p> <p>Warning: This README is translated by ChatGPT. Please feel free to submit a PR if you find any translation errors.</p> <p>Warning: The Docker image for English version is <code>justsong/one-api-en</code>.</p> <p>Note: The latest image pulled from Docker may be an <code>alpha</code> release. Specify the version manually if you require stability.</p>"},{"location":"en/#features","title":"Features","text":"<ol> <li>Support for multiple large models:</li> <li> OpenAI ChatGPT Series Models (Supports Azure OpenAI API)</li> <li> Anthropic Claude Series Models</li> <li> Google PaLM2 and Gemini Series Models</li> <li> Baidu Wenxin Yiyuan Series Models</li> <li> Alibaba Tongyi Qianwen Series Models</li> <li> Zhipu ChatGLM Series Models</li> <li>Supports access to multiple channels through load balancing.</li> <li>Supports stream mode that enables typewriter-like effect through stream transmission.</li> <li>Supports multi-machine deployment. See here for more details.</li> <li>Supports token management that allows setting token expiration time and usage count.</li> <li>Supports voucher management that enables batch generation and export of vouchers. Vouchers can be used for account balance replenishment.</li> <li>Supports channel management that allows bulk creation of channels.</li> <li>Supports user grouping and channel grouping for setting different rates for different groups.</li> <li>Supports channel model list configuration.</li> <li>Supports quota details checking.</li> <li>Supports user invite rewards.</li> <li>Allows display of balance in USD.</li> <li>Supports announcement publishing, recharge link setting, and initial balance setting for new users.</li> <li>Offers rich customization options:<ol> <li>Supports customization of system name, logo, and footer.</li> <li>Supports customization of homepage and about page using HTML &amp; Markdown code, or embedding a standalone webpage through iframe.</li> </ol> </li> <li>Supports management API access through system access tokens.</li> <li>Supports Cloudflare Turnstile user verification.</li> <li>Supports user management and multiple user login/registration methods:<ul> <li>Email login/registration and password reset via email.</li> <li>GitHub OAuth.</li> <li>WeChat Official Account authorization (requires additional deployment of WeChat Server).</li> </ul> </li> <li>Immediate support and encapsulation of other major model APIs as they become available.</li> </ol>"},{"location":"en/#deployment","title":"Deployment","text":""},{"location":"en/#docker-deployment","title":"Docker Deployment","text":"<p>Deployment command: <code>docker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api-en</code></p> <p>Update command: <code>docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower -cR</code></p> <p>The first <code>3000</code> in <code>-p 3000:3000</code> is the port of the host, which can be modified as needed.</p> <p>Data will be saved in the <code>/home/ubuntu/data/one-api</code> directory on the host. Ensure that the directory exists and has write permissions, or change it to a suitable directory.</p> <p>Nginx reference configuration: <pre><code>server{\n   server_name openai.justsong.cn;  # Modify your domain name accordingly\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # Modify your port accordingly\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n   }\n}\n</code></pre></p> <p>Next, configure HTTPS with Let's Encrypt certbot: <pre><code># Install certbot on Ubuntu:\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# Generate certificates &amp; modify Nginx configuration\nsudo certbot --nginx\n# Follow the prompts\n# Restart Nginx\nsudo service nginx restart\n</code></pre></p> <p>The initial account username is <code>root</code> and password is <code>123456</code>.</p>"},{"location":"en/#manual-deployment","title":"Manual Deployment","text":"<ol> <li>Download the executable file from GitHub Releases or compile from source:    <pre><code>git clone https://github.com/songquanpeng/one-api.git\n\n# Build the frontend\ncd one-api/web/default\nnpm install\nnpm run build\n\n# Build the backend\ncd ../..\ngo mod download\ngo build -ldflags \"-s -w\" -o one-api\n</code></pre></li> <li>Run:    <pre><code>chmod u+x one-api\n./one-api --port 3000 --log-dir ./logs\n</code></pre></li> <li>Access http://localhost:3000/ and log in. The initial account username is <code>root</code> and password is <code>123456</code>.</li> </ol> <p>For more detailed deployment tutorials, please refer to this page.</p>"},{"location":"en/#multi-machine-deployment","title":"Multi-machine Deployment","text":"<ol> <li>Set the same <code>SESSION_SECRET</code> for all servers.</li> <li>Set <code>SQL_DSN</code> and use MySQL instead of SQLite. All servers should connect to the same database.</li> <li>Set the <code>NODE_TYPE</code> for all non-master nodes to <code>slave</code>.</li> <li>Set <code>SYNC_FREQUENCY</code> for servers to periodically sync configurations from the database.</li> <li>Non-master nodes can optionally set <code>FRONTEND_BASE_URL</code> to redirect page requests to the master server.</li> <li>Install Redis separately on non-master nodes, and configure <code>REDIS_CONN_STRING</code> so that the database can be accessed with zero latency when the cache has not expired.</li> <li>If the main server also has high latency accessing the database, Redis must be enabled and <code>SYNC_FREQUENCY</code> must be set to periodically sync configurations from the database.</li> </ol> <p>Please refer to the environment variables section for details on using environment variables.</p>"},{"location":"en/#deployment-on-control-panels-eg-baota","title":"Deployment on Control Panels (e.g., Baota)","text":"<p>Refer to #175 for detailed instructions.</p> <p>If you encounter a blank page after deployment, refer to #97 for possible solutions.</p>"},{"location":"en/#deployment-on-third-party-platforms","title":"Deployment on Third-Party Platforms","text":"Deploy on Sealos   &gt; Sealos supports high concurrency, dynamic scaling, and stable operations for millions of users.  &gt; Click the button below to deploy with one click.\ud83d\udc47  [![](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)    Deployment on Zeabur   &gt; Zeabur's servers are located overseas, automatically solving network issues, and the free quota is sufficient for personal usage.  [![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)  1. First, fork the code. 2. Go to [Zeabur](https://zeabur.com?referralCode=songquanpeng), log in, and enter the console. 3. Create a new project. In Service -&gt; Add Service, select Marketplace, and choose MySQL. Note down the connection parameters (username, password, address, and port). 4. Copy the connection parameters and run ```create database `one-api` ``` to create the database. 5. Then, in Service -&gt; Add Service, select Git (authorization is required for the first use) and choose your forked repository. 6. Automatic deployment will start, but please cancel it for now. Go to the Variable tab, add a `PORT` with a value of `3000`, and then add a `SQL_DSN` with a value of `:@tcp(:)/one-api`. Save the changes. Please note that if `SQL_DSN` is not set, data will not be persisted, and the data will be lost after redeployment. 7. Select Redeploy. 8. In the Domains tab, select a suitable domain name prefix, such as \"my-one-api\". The final domain name will be \"my-one-api.zeabur.app\". You can also CNAME your own domain name. 9. Wait for the deployment to complete, and click on the generated domain name to access One API."},{"location":"en/#configuration","title":"Configuration","text":"<p>The system is ready to use out of the box.</p> <p>You can configure it by setting environment variables or command line parameters.</p> <p>After the system starts, log in as the <code>root</code> user to further configure the system.</p>"},{"location":"en/#usage","title":"Usage","text":"<p>Add your API Key on the <code>Channels</code> page, and then add an access token on the <code>Tokens</code> page.</p> <p>You can then use your access token to access One API. The usage is consistent with the OpenAI API.</p> <p>In places where the OpenAI API is used, remember to set the API Base to your One API deployment address, for example: <code>https://openai.justsong.cn</code>. The API Key should be the token generated in One API.</p> <p>Note that the specific API Base format depends on the client you are using.</p> <pre><code>graph LR\n    A(User)\n    A ---&gt;|Request| B(One API)\n    B --&gt;|Relay Request| C(OpenAI)\n    B --&gt;|Relay Request| D(Azure)\n    B --&gt;|Relay Request| E(Other downstream channels)</code></pre> <p>To specify which channel to use for the current request, you can add the channel ID after the token, for example: <code>Authorization: Bearer ONE_API_KEY-CHANNEL_ID</code>. Note that the token needs to be created by an administrator to specify the channel ID.</p> <p>If the channel ID is not provided, load balancing will be used to distribute the requests to multiple channels.</p>"},{"location":"en/#environment-variables","title":"Environment Variables","text":"<ol> <li><code>REDIS_CONN_STRING</code>: When set, Redis will be used as the storage for request rate limiting instead of memory.<ul> <li>Example: <code>REDIS_CONN_STRING=redis://default:redispw@localhost:49153</code></li> </ul> </li> <li><code>SESSION_SECRET</code>: When set, a fixed session key will be used to ensure that cookies of logged-in users are still valid after the system restarts.<ul> <li>Example: <code>SESSION_SECRET=random_string</code></li> </ul> </li> <li><code>SQL_DSN</code>: When set, the specified database will be used instead of SQLite. Please use MySQL version 8.0.<ul> <li>Example: <code>SQL_DSN=root:123456@tcp(localhost:3306)/oneapi</code></li> </ul> </li> <li><code>LOG_SQL_DSN</code>: When set, a separate database will be used for the <code>logs</code> table; please use MySQL or PostgreSQL.<ul> <li>Example: <code>LOG_SQL_DSN=root:123456@tcp(localhost:3306)/oneapi-logs</code></li> </ul> </li> <li><code>FRONTEND_BASE_URL</code>: When set, the specified frontend address will be used instead of the backend address.<ul> <li>Example: <code>FRONTEND_BASE_URL=https://openai.justsong.cn</code></li> </ul> </li> <li>'MEMORY_CACHE_ENABLED': Enabling memory caching can cause a certain delay in updating user quotas, with optional values of 'true' and 'false'. If not set, it defaults to 'false'.</li> <li><code>SYNC_FREQUENCY</code>: When set, the system will periodically sync configurations from the database, with the unit in seconds. If not set, no sync will happen.<ul> <li>Example: <code>SYNC_FREQUENCY=60</code></li> </ul> </li> <li><code>NODE_TYPE</code>: When set, specifies the node type. Valid values are <code>master</code> and <code>slave</code>. If not set, it defaults to <code>master</code>.<ul> <li>Example: <code>NODE_TYPE=slave</code></li> </ul> </li> <li><code>CHANNEL_UPDATE_FREQUENCY</code>: When set, it periodically updates the channel balances, with the unit in minutes. If not set, no update will happen.<ul> <li>Example: <code>CHANNEL_UPDATE_FREQUENCY=1440</code></li> </ul> </li> <li><code>CHANNEL_TEST_FREQUENCY</code>: When set, it periodically tests the channels, with the unit in minutes. If not set, no test will happen.<ul> <li>Example: <code>CHANNEL_TEST_FREQUENCY=1440</code></li> </ul> </li> <li><code>POLLING_INTERVAL</code>: The time interval (in seconds) between requests when updating channel balances and testing channel availability. Default is no interval.<ul> <li>Example: <code>POLLING_INTERVAL=5</code></li> </ul> </li> <li><code>BATCH_UPDATE_ENABLED</code>: Enabling batch database update aggregation can cause a certain delay in updating user quotas. The optional values are 'true' and 'false', but if not set, it defaults to 'false'.     +Example: <code>BATCH_UPDATE_ENABLED=true</code>     +If you encounter an issue with too many database connections, you can try enabling this option.</li> <li><code>BATCH_UPDATE_INTERVAL=5</code>: The time interval for batch updating aggregates, measured in seconds, defaults to '5'.     +Example: <code>BATCH_UPDATE_INTERVAL=5</code></li> <li>Request frequency limit:<ul> <li><code>GLOBAL_API_RATE_LIMIT</code>: Global API rate limit (excluding relay requests), the maximum number of requests within three minutes per IP, default to 180.</li> <li><code>GLOBAL_WEL_RATE_LIMIT</code>: Global web speed limit, the maximum number of requests within three minutes per IP, default to 60.</li> </ul> </li> <li>Encoder cache settings:     +<code>TIKTOKEN_CACHE_DIR</code>: By default, when the program starts, it will download the encoding of some common word elements online, such as' gpt-3.5 turbo '. In some unstable network environments or offline situations, it may cause startup problems. This directory can be configured to cache data and can be migrated to an offline environment.     +<code>DATA_GYM_CACHE_DIR</code>: Currently, this configuration has the same function as' TIKTOKEN-CACHE-DIR ', but its priority is not as high as it.</li> <li><code>RELAY_TIMEOUT</code>: Relay timeout setting, measured in seconds, with no default timeout time set.</li> <li><code>RELAY_PROXY</code>: After setting up, use this proxy to request APIs.</li> <li><code>USER_CONTENT_REQUEST_TIMEOUT</code>: The timeout period for users to upload and download content, measured in seconds.</li> <li><code>USER_CONTENT_REQUEST_PROXY</code>: After setting up, use this agent to request content uploaded by users, such as images.</li> <li><code>SQLITE_BUSY_TIMEOUT</code>: SQLite lock wait timeout setting, measured in milliseconds, default to '3000'.</li> <li><code>GEMINI_SAFETY_SETTING</code>: Gemini's security settings are set to 'BLOCK-NONE' by default.</li> <li><code>GEMINI_VERSION</code>: The Gemini version used by the One API, which defaults to 'v1'.</li> <li><code>THE</code>: The system's theme setting, default to 'default', specific optional values refer to [here] (./web/README. md).</li> <li><code>ENABLE_METRIC</code>: Whether to disable channels based on request success rate, default not enabled, optional values are 'true' and 'false'.</li> <li><code>METRIC_QUEUE_SIZE</code>: Request success rate statistics queue size, default to '10'.</li> <li><code>METRIC_SUCCESS_RATE_THRESHOLD</code>: Request success rate threshold, default to '0.8'.</li> <li><code>INITIAL_ROOT_TOKEN</code>: If this value is set, a root user token with the value of the environment variable will be automatically created when the system starts for the first time.</li> <li><code>INITIAL_ROOT_ACCESS_TOKEN</code>: If this value is set, a system management token will be automatically created for the root user with a value of the environment variable when the system starts for the first time.</li> </ol>"},{"location":"en/#command-line-parameters","title":"Command Line Parameters","text":"<ol> <li><code>--port &lt;port_number&gt;</code>: Specifies the port number on which the server listens. Defaults to <code>3000</code>.<ul> <li>Example: <code>--port 3000</code></li> </ul> </li> <li><code>--log-dir &lt;log_dir&gt;</code>: Specifies the log directory. If not set, the logs will not be saved.<ul> <li>Example: <code>--log-dir ./logs</code></li> </ul> </li> <li><code>--version</code>: Prints the system version number and exits.</li> <li><code>--help</code>: Displays the command usage help and parameter descriptions.</li> </ol>"},{"location":"en/#screenshots","title":"Screenshots","text":""},{"location":"en/#faq","title":"FAQ","text":"<ol> <li>What is quota? How is it calculated? Does One API have quota calculation issues?<ul> <li>Quota = Group multiplier * Model multiplier * (number of prompt tokens + number of completion tokens * completion multiplier)</li> <li>The completion multiplier is fixed at 1.33 for GPT3.5 and 2 for GPT4, consistent with the official definition.</li> <li>If it is not a stream mode, the official API will return the total number of tokens consumed. However, please note that the consumption multipliers for prompts and completions are different.</li> </ul> </li> <li>Why does it prompt \"insufficient quota\" even though my account balance is sufficient?<ul> <li>Please check if your token quota is sufficient. It is separate from the account balance.</li> <li>The token quota is used to set the maximum usage and can be freely set by the user.</li> </ul> </li> <li>It says \"No available channels\" when trying to use a channel. What should I do?<ul> <li>Please check the user and channel group settings.</li> <li>Also check the channel model settings.</li> </ul> </li> <li>Channel testing reports an error: \"invalid character '&lt;' looking for beginning of value\"<ul> <li>This error occurs when the returned value is not valid JSON but an HTML page.</li> <li>Most likely, the IP of your deployment site or the node of the proxy has been blocked by CloudFlare.</li> </ul> </li> <li>ChatGPT Next Web reports an error: \"Failed to fetch\"<ul> <li>Do not set <code>BASE_URL</code> during deployment.</li> <li>Double-check that your interface address and API Key are correct.</li> </ul> </li> </ol>"},{"location":"en/#related-projects","title":"Related Projects","text":"<ul> <li>FastGPT: Knowledge question answering system based on the LLM</li> <li>VChart:  More than just a cross-platform charting library, but also an expressive data storyteller.</li> <li>VMind:  Not just automatic, but also fantastic. Open-source solution for intelligent visualization.</li> </ul>"},{"location":"en/#note","title":"Note","text":"<p>This project is an open-source project. Please use it in compliance with OpenAI's Terms of Use and applicable laws and regulations. It must not be used for illegal purposes.</p> <p>This project is released under the MIT license. Based on this, attribution and a link to this project must be included at the bottom of the page.</p> <p>The same applies to derivative projects based on this project.</p> <p>If you do not wish to include attribution, prior authorization must be obtained.</p> <p>According to the MIT license, users should bear the risk and responsibility of using this project, and the developer of this open-source project is not responsible for this.</p>"},{"location":"ja/","title":"\u65e5\u672c\u8a9e","text":"<p> \u4e2d\u6587 | English | \u65e5\u672c\u8a9e </p> <p> </p>   # One API  _\u2728 \u6a19\u6e96\u7684\u306a OpenAI API \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u901a\u3058\u3066\u3059\u3079\u3066\u306e LLM \u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3001\u5c0e\u5165\u3068\u5229\u7528\u304c\u5bb9\u6613\u3067\u3059 \u2728_   <p> </p> <p> \u30c7\u30d7\u30ed\u30a4\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb   \u00b7   \u4f7f\u7528\u65b9\u6cd5   \u00b7   \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af   \u00b7   \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8   \u00b7   \u30e9\u30a4\u30d6\u30c7\u30e2   \u00b7   FAQ   \u00b7   \u95a2\u9023\u30d7\u30ed\u30b8\u30a7\u30af\u30c8   \u00b7   \u5bc4\u4ed8 </p> <p>\u8b66\u544a: \u3053\u306e README \u306f ChatGPT \u306b\u3088\u3063\u3066\u7ffb\u8a33\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u7ffb\u8a33\u30df\u30b9\u3092\u767a\u898b\u3057\u305f\u5834\u5408\u306f\u9060\u616e\u306a\u304f PR \u3092\u6295\u7a3f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u8b66\u544a\uff1a \u82f1\u8a9e\u7248\u306e Docker \u30a4\u30e1\u30fc\u30b8\u306f <code>justsong/one-api-en</code> \u3067\u3059\u3002</p> <p>\u6ce8: Docker \u304b\u3089\u30d7\u30eb\u3055\u308c\u305f\u6700\u65b0\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u3001<code>alpha</code> \u30ea\u30ea\u30fc\u30b9\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5b89\u5b9a\u6027\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u624b\u52d5\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/#_1","title":"\u7279\u5fb4","text":"<ol> <li>\u8907\u6570\u306e\u5927\u578b\u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8:</li> <li> OpenAI ChatGPT \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb (Azure OpenAI API \u3092\u30b5\u30dd\u30fc\u30c8)</li> <li> Anthropic Claude \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb</li> <li> Google PaLM2/Gemini \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb</li> <li> Baidu Wenxin Yiyuan \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb</li> <li> Alibaba Tongyi Qianwen \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb</li> <li> Zhipu ChatGLM \u30b7\u30ea\u30fc\u30ba\u30e2\u30c7\u30eb</li> <li>**\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0**\u306b\u3088\u308b\u8907\u6570\u30c1\u30e3\u30f3\u30cd\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3002</li> <li>\u30b9\u30c8\u30ea\u30fc\u30e0\u4f1d\u9001\u306b\u3088\u308b\u30bf\u30a4\u30d7\u30e9\u30a4\u30bf\u30fc\u7684\u52b9\u679c\u3092\u53ef\u80fd\u306b\u3059\u308b**\u30b9\u30c8\u30ea\u30fc\u30e0\u30e2\u30fc\u30c9**\u306b\u5bfe\u5fdc\u3002</li> <li>**\u30de\u30eb\u30c1\u30de\u30b7\u30f3\u30c7\u30d7\u30ed\u30a4**\u306b\u5bfe\u5fdc\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3002</li> <li>\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3084\u4f7f\u7528\u56de\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u308b**\u30c8\u30fc\u30af\u30f3\u7ba1\u7406**\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002</li> <li>**\u30d0\u30a6\u30c1\u30e3\u30fc\u7ba1\u7406**\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u30d0\u30a6\u30c1\u30e3\u30fc\u306e\u4e00\u62ec\u751f\u6210\u3084\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u304c\u53ef\u80fd\u3067\u3059\u3002\u30d0\u30a6\u30c1\u30e3\u30fc\u306f\u53e3\u5ea7\u6b8b\u9ad8\u306e\u88dc\u5145\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002</li> <li>**\u30c1\u30e3\u30f3\u30cd\u30eb\u7ba1\u7406**\u306b\u5bfe\u5fdc\u3057\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u4e00\u62ec\u4f5c\u6210\u304c\u53ef\u80fd\u3002</li> <li>\u30b0\u30eb\u30fc\u30d7\u3054\u3068\u306b\u7570\u306a\u308b\u30ec\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e**\u30e6\u30fc\u30b6\u30fc\u30b0\u30eb\u30fc\u30d7**\u3068**\u30c1\u30e3\u30f3\u30cd\u30eb\u30b0\u30eb\u30fc\u30d7**\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</li> <li>\u30c1\u30e3\u30f3\u30cd\u30eb**\u30e2\u30c7\u30eb\u30ea\u30b9\u30c8\u8a2d\u5b9a**\u306b\u5bfe\u5fdc\u3002</li> <li>**\u30af\u30a9\u30fc\u30bf\u8a73\u7d30\u30c1\u30a7\u30c3\u30af**\u3092\u30b5\u30dd\u30fc\u30c8\u3002</li> <li>**\u30e6\u30fc\u30b6\u30fc\u62db\u5f85\u5831\u916c**\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</li> <li>\u7c73\u30c9\u30eb\u3067\u306e\u6b8b\u9ad8\u8868\u793a\u304c\u53ef\u80fd\u3002</li> <li>\u65b0\u898f\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306e\u304a\u77e5\u3089\u305b\u516c\u958b\u3001\u30ea\u30c1\u30e3\u30fc\u30b8\u30ea\u30f3\u30af\u8a2d\u5b9a\u3001\u521d\u671f\u6b8b\u9ad8\u8a2d\u5b9a\u306b\u5bfe\u5fdc\u3002</li> <li>\u8c4a\u5bcc\u306a**\u30ab\u30b9\u30bf\u30de\u30a4\u30ba**\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059:<ol> <li>\u30b7\u30b9\u30c6\u30e0\u540d\u3001\u30ed\u30b4\u3001\u30d5\u30c3\u30bf\u30fc\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u304c\u53ef\u80fd\u3002</li> <li>HTML \u3068 Markdown \u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u305f\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3068\u30a2\u30d0\u30a6\u30c8\u30da\u30fc\u30b8\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3001\u307e\u305f\u306f iframe \u3092\u4ecb\u3057\u305f\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u306e\u57cb\u3081\u8fbc\u307f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</li> </ol> </li> <li>\u30b7\u30b9\u30c6\u30e0\u30fb\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306b\u3088\u308b\u7ba1\u7406 API \u30a2\u30af\u30bb\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3002</li> <li>Cloudflare Turnstile \u306b\u3088\u308b\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u306b\u5bfe\u5fdc\u3002</li> <li>\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406\u3068\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u30ed\u30b0\u30a4\u30f3/\u767b\u9332\u65b9\u6cd5\u3092\u30b5\u30dd\u30fc\u30c8:<ul> <li>\u96fb\u5b50\u30e1\u30fc\u30eb\u306b\u3088\u308b\u30ed\u30b0\u30a4\u30f3/\u767b\u9332\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u3002</li> <li>GitHub OAuth\u3002</li> <li>WeChat \u516c\u5f0f\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u8a8d\u8a3c\uff08WeChat Server\u306e\u8ffd\u52a0\u5c0e\u5165\u304c\u5fc5\u8981\uff09\u3002</li> </ul> </li> <li>\u4ed6\u306e\u4e3b\u8981\u306a\u30e2\u30c7\u30eb API \u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u305f\u5834\u5408\u3001\u5373\u5ea7\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3001\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308b\u3002</li> </ol>"},{"location":"ja/#_2","title":"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8","text":""},{"location":"ja/#docker","title":"Docker \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8","text":"<p>\u30c7\u30d7\u30ed\u30a4\u30b3\u30de\u30f3\u30c9: <code>docker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api-en</code>\u3002</p> <p>\u30b3\u30de\u30f3\u30c9\u3092\u66f4\u65b0\u3059\u308b: <code>docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrr/watchtower -cR</code>\u3002</p> <p><code>-p 3000:3000</code> \u306e\u6700\u521d\u306e <code>3000</code> \u306f\u30db\u30b9\u30c8\u306e\u30dd\u30fc\u30c8\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c7\u30fc\u30bf\u306f\u30db\u30b9\u30c8\u306e <code>/home/ubuntu/data/one-api</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5b58\u5728\u3057\u3001\u66f8\u304d\u8fbc\u307f\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3001\u3082\u3057\u304f\u306f\u9069\u5207\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Nginx\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u8a2d\u5b9a: <pre><code>server{\n   server_name openai.justsong.cn;  # \u30c9\u30e1\u30a4\u30f3\u540d\u306f\u9069\u5b9c\u5909\u66f4\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # \u305d\u308c\u306b\u5fdc\u3058\u3066\u30dd\u30fc\u30c8\u3092\u5909\u66f4\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n          proxy_read_timeout 300s;  # GPT-4 \u306f\u3088\u308a\u9577\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\n   }\n}\n</code></pre></p> <p>\u6b21\u306b\u3001Let's Encrypt certbot \u3092\u4f7f\u3063\u3066 HTTPS \u3092\u8a2d\u5b9a\u3057\u307e\u3059: <pre><code># Ubuntu \u306b certbot \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# \u8a3c\u660e\u66f8\u306e\u751f\u6210\u3068 Nginx \u8a2d\u5b9a\u306e\u5909\u66f4\nsudo certbot --nginx\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u5f93\u3046\n# Nginx \u3092\u518d\u8d77\u52d5\nsudo service nginx restart\n</code></pre></p> <p>\u521d\u671f\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f <code>root</code> \u3067\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f <code>123456</code> \u3067\u3059\u3002</p>"},{"location":"ja/#_3","title":"\u30de\u30cb\u30e5\u30a2\u30eb\u30c7\u30d7\u30ed\u30a4","text":"<ol> <li>GitHub Releases \u304b\u3089\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3001\u3082\u3057\u304f\u306f\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b:    <pre><code>git clone https://github.com/songquanpeng/one-api.git\n\n# \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30d3\u30eb\u30c9\ncd one-api/web/default\nnpm install\nnpm run build\n\n# \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30d3\u30eb\u30c9\ncd ../..\ngo mod download\ngo build -ldflags \"-s -w\" -o one-api\n</code></pre></li> <li>\u5b9f\u884c:    <pre><code>chmod u+x one-api\n./one-api --port 3000 --log-dir ./logs\n</code></pre></li> <li>http://localhost:3000/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\u521d\u671f\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306f <code>root</code>\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f <code>123456</code> \u3067\u3042\u308b\u3002</li> </ol> <p>\u3088\u308a\u8a73\u7d30\u306a\u30c7\u30d7\u30ed\u30a4\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u306e\u30da\u30fc\u30b8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/#_4","title":"\u30de\u30eb\u30c1\u30de\u30b7\u30f3\u30c7\u30d7\u30ed\u30a4","text":"<ol> <li>\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d0\u306b\u540c\u3058 <code>SESSION_SECRET</code> \u3092\u8a2d\u5b9a\u3059\u308b\u3002</li> <li><code>SQL_DSN</code> \u3092\u8a2d\u5b9a\u3057\u3001SQLite \u306e\u4ee3\u308f\u308a\u306b MySQL \u3092\u4f7f\u7528\u3059\u308b\u3002\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d0\u306f\u540c\u3058\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u3002</li> <li>\u30de\u30b9\u30bf\u30fc\u30ce\u30fc\u30c9\u4ee5\u5916\u306e\u30ce\u30fc\u30c9\u306e <code>NODE_TYPE</code> \u3092 <code>slave</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3002</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u5b9a\u671f\u7684\u306b\u8a2d\u5b9a\u3092\u540c\u671f\u3059\u308b\u30b5\u30fc\u30d0\u30fc\u306b\u306f <code>SYNC_FREQUENCY</code> \u3092\u8a2d\u5b9a\u3059\u308b\u3002</li> <li>\u30de\u30b9\u30bf\u30fc\u4ee5\u5916\u306e\u30ce\u30fc\u30c9\u3067\u306f\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 <code>FRONTEND_BASE_URL</code> \u3092\u8a2d\u5b9a\u3057\u3066\u3001\u30da\u30fc\u30b8\u8981\u6c42\u3092\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u30fc\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> <li>\u30de\u30b9\u30bf\u30fc\u4ee5\u5916\u306e\u30ce\u30fc\u30c9\u306b\u306f Redis \u3092\u500b\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001<code>REDIS_CONN_STRING</code> \u3092\u8a2d\u5b9a\u3057\u3066\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u3066\u3044\u306a\u3044\u3068\u304d\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30bc\u30ed\u30ec\u30a4\u30c6\u30f3\u30b7\u30fc\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002</li> <li>\u30e1\u30a4\u30f3\u30b5\u30fc\u30d0\u30fc\u3067\u3082\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c\u9ad8\u30ec\u30a4\u30c6\u30f3\u30b7\u306b\u306a\u308b\u5834\u5408\u306f\u3001Redis \u3092\u6709\u52b9\u306b\u3057\u3001<code>SYNC_FREQUENCY</code> \u3092\u8a2d\u5b9a\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u5b9a\u671f\u7684\u306b\u8a2d\u5b9a\u3092\u540c\u671f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002</li> </ol> <p>Please refer to the environment variables section for details on using environment variables.</p>"},{"location":"ja/#baota","title":"\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\uff08\u4f8b: Baota\uff09\u3078\u306e\u5c55\u958b","text":"<p>\u8a73\u3057\u3044\u624b\u9806\u306f #175 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u914d\u7f6e\u5f8c\u306b\u7a7a\u767d\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u306f\u3001#97 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/#_5","title":"\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3078\u306e\u30c7\u30d7\u30ed\u30a4","text":"Sealos \u3078\u306e\u30c7\u30d7\u30ed\u30a4   &gt; Sealos \u306f\u3001\u9ad8\u3044\u540c\u6642\u5b9f\u884c\u6027\u3001\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u306a\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3001\u6570\u767e\u4e07\u4eba\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3059\u308b\u5b89\u5b9a\u3057\u305f\u904b\u7528\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002  &gt; \u4e0b\u306e\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30ef\u30f3\u30af\u30ea\u30c3\u30af\u3067\u5c55\u958b\u3067\u304d\u307e\u3059\u3002\ud83d\udc47  [![](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)    Zeabur \u3078\u306e\u30c7\u30d7\u30ed\u30a4   &gt; Zeabur \u306e\u30b5\u30fc\u30d0\u30fc\u306f\u6d77\u5916\u306b\u3042\u308b\u305f\u3081\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u554f\u984c\u306f\u81ea\u52d5\u7684\u306b\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002  [![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)  1. \u307e\u305a\u3001\u30b3\u30fc\u30c9\u3092\u30d5\u30a9\u30fc\u30af\u3059\u308b\u3002 2. [Zeabur](https://zeabur.com?referralCode=songquanpeng) \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u5165\u308b\u3002 3. \u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Service -&gt; Add Service\u3067Marketplace \u3092\u9078\u629e\u3057\u3001MySQL \u3092\u9078\u629e\u3059\u308b\u3002\u63a5\u7d9a\u30d1\u30e9\u30e1\u30fc\u30bf\uff08\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30a2\u30c9\u30ec\u30b9\u3001\u30dd\u30fc\u30c8\uff09\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002 4. \u63a5\u7d9a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\u3057\u3001```create database `one-api` ``` \u3092\u5b9f\u884c\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002 5. \u305d\u306e\u5f8c\u3001Service -&gt; Add Service \u3067 Git \u3092\u9078\u629e\u3057\uff08\u6700\u521d\u306e\u4f7f\u7528\u306b\u306f\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059\uff09\u3001\u30d5\u30a9\u30fc\u30af\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u9078\u629e\u3057\u307e\u3059\u3002 6. \u81ea\u52d5\u30c7\u30d7\u30ed\u30a4\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u304c\u3001\u4e00\u65e6\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002Variable \u30bf\u30d6\u3067 `PORT` \u306b `3000` \u3092\u8ffd\u52a0\u3057\u3001`SQL_DSN` \u306b `:@tcp(:)/one-api` \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5909\u66f4\u3092\u4fdd\u5b58\u3059\u308b\u3002SQL_DSN` \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u3001\u30c7\u30fc\u30bf\u304c\u6c38\u7d9a\u5316\u3055\u308c\u305a\u3001\u518d\u30c7\u30d7\u30ed\u30a4\u5f8c\u306b\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u308b\u306e\u3067\u6ce8\u610f\u3059\u308b\u3053\u3068\u3002 7. \u518d\u30c7\u30d7\u30ed\u30a4\u3092\u9078\u629e\u3057\u307e\u3059\u3002 8. Domains \u30bf\u30d6\u3067\u3001\"my-one-api\" \u306e\u3088\u3046\u306a\u9069\u5207\u306a\u30c9\u30e1\u30a4\u30f3\u540d\u306e\u63a5\u982d\u8f9e\u3092\u9078\u629e\u3059\u308b\u3002\u6700\u7d42\u7684\u306a\u30c9\u30e1\u30a4\u30f3\u540d\u306f \"my-one-api.zeabur.app\" \u3068\u306a\u308a\u307e\u3059\u3002\u72ec\u81ea\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3092 CNAME \u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 9. \u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3061\u3001\u751f\u6210\u3055\u308c\u305f\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066 One API \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002"},{"location":"ja/#_6","title":"\u30b3\u30f3\u30d5\u30a3\u30b0","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306f\u7bb1\u304b\u3089\u51fa\u3057\u3066\u3059\u3050\u306b\u4f7f\u3048\u307e\u3059\u3002</p> <p>\u74b0\u5883\u5909\u6570\u3084\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u5f8c\u3001<code>root</code> \u30e6\u30fc\u30b6\u30fc\u3068\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u3055\u3089\u306b\u30b7\u30b9\u30c6\u30e0\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p>"},{"location":"ja/#_7","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p><code>Channels</code> \u30da\u30fc\u30b8\u3067 API Key \u3092\u8ffd\u52a0\u3057\u3001<code>Tokens</code> \u30da\u30fc\u30b8\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3002</p> <p>\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u3063\u3066 One API \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u4f7f\u3044\u65b9\u306f OpenAI API \u3068\u540c\u3058\u3067\u3059\u3002</p> <p>OpenAI API \u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3067\u306f\u3001API Base \u306b One API \u306e\u30c7\u30d7\u30ed\u30a4\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\uff08\u4f8b: <code>https://openai.justsong.cn</code>\uff09\u3002API Key \u306f One API \u3067\u751f\u6210\u3055\u308c\u305f\u30c8\u30fc\u30af\u30f3\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <p>\u5177\u4f53\u7684\u306a API Base \u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>graph LR\n    A(\u30e6\u30fc\u30b6)\n    A ---&gt;|\u30ea\u30af\u30a8\u30b9\u30c8| B(One API)\n    B --&gt;|\u4e2d\u7d99\u30ea\u30af\u30a8\u30b9\u30c8| C(OpenAI)\n    B --&gt;|\u4e2d\u7d99\u30ea\u30af\u30a8\u30b9\u30c8| D(Azure)\n    B --&gt;|\u4e2d\u7d99\u30ea\u30af\u30a8\u30b9\u30c8| E(\u305d\u306e\u4ed6\u306e\u30c0\u30a6\u30f3\u30b9\u30c8\u30ea\u30fc\u30e0\u30c1\u30e3\u30f3\u30cd\u30eb)</code></pre> <p>\u73fe\u5728\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u3069\u306e\u30c1\u30e3\u30cd\u30eb\u3092\u4f7f\u3046\u304b\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001\u30c8\u30fc\u30af\u30f3\u306e\u5f8c\u306b \u30c1\u30e3\u30cd\u30eb ID \u3092\u8ffd\u52a0\u3057\u307e\u3059\uff1a \u4f8b\u3048\u3070\u3001<code>Authorization: Bearer ONE_API_KEY-CHANNEL_ID</code> \u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u30c1\u30e3\u30f3\u30cd\u30eb ID \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30c8\u30fc\u30af\u30f3\u306f\u7ba1\u7406\u8005\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u3082\u3057\u30c1\u30e3\u30cd\u30eb ID \u304c\u6307\u5b9a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0\u306b\u3088\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u8907\u6570\u306e\u30c1\u30e3\u30cd\u30eb\u306b\u632f\u308a\u5206\u3051\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"ja/#_8","title":"\u74b0\u5883\u5909\u6570","text":"<ol> <li><code>REDIS_CONN_STRING</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u30ec\u30fc\u30c8\u5236\u9650\u306e\u305f\u3081\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u3001\u30e1\u30e2\u30ea\u306e\u4ee3\u308f\u308a\u306b Redis \u304c\u4f7f\u308f\u308c\u308b\u3002<ul> <li>\u4f8b: <code>REDIS_CONN_STRING=redis://default:redispw@localhost:49153</code></li> </ul> </li> <li><code>SESSION_SECRET</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001\u56fa\u5b9a\u30bb\u30c3\u30b7\u30e7\u30f3\u30ad\u30fc\u304c\u4f7f\u7528\u3055\u308c\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u518d\u8d77\u52d5\u5f8c\u3082\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30c3\u30ad\u30fc\u304c\u6709\u52b9\u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u307e\u3059\u3002<ul> <li>\u4f8b: <code>SESSION_SECRET=random_string</code></li> </ul> </li> <li><code>SQL_DSN</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001SQLite \u306e\u4ee3\u308f\u308a\u306b\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002MySQL \u30d0\u30fc\u30b8\u30e7\u30f3 8.0 \u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002<ul> <li>\u4f8b: <code>SQL_DSN=root:123456@tcp(localhost:3306)/oneapi</code></li> </ul> </li> <li><code>LOG_SQL_DSN</code>: \u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001<code>logs</code>\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u72ec\u7acb\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002MySQL\u307e\u305f\u306fPostgreSQL\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> <li><code>FRONTEND_BASE_URL</code>: \u8a2d\u5b9a\u3055\u308c\u308b\u3068\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u306a\u304f\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30c9\u30ec\u30b9\u304c\u4f7f\u308f\u308c\u308b\u3002<ul> <li>\u4f8b: <code>FRONTEND_BASE_URL=https://openai.justsong.cn</code></li> </ul> </li> <li><code>SYNC_FREQUENCY</code>: \u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u306f\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u79d2\u5358\u4f4d\u3067\u540c\u671f\u3059\u308b\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u540c\u671f\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002<ul> <li>\u4f8b: <code>SYNC_FREQUENCY=60</code></li> </ul> </li> <li><code>NODE_TYPE</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30ce\u30fc\u30c9\u306e\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3059\u308b\u3002\u6709\u52b9\u306a\u5024\u306f <code>master</code> \u3068 <code>slave</code> \u3067\u3042\u308b\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f <code>master</code>\u3002<ul> <li>\u4f8b: <code>NODE_TYPE=slave</code></li> </ul> </li> <li><code>CHANNEL_UPDATE_FREQUENCY</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u6b8b\u9ad8\u3092\u5206\u5358\u4f4d\u3067\u5b9a\u671f\u7684\u306b\u66f4\u65b0\u3059\u308b\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u66f4\u65b0\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002<ul> <li>\u4f8b: <code>CHANNEL_UPDATE_FREQUENCY=1440</code></li> </ul> </li> <li><code>CHANNEL_TEST_FREQUENCY</code>: \u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u5b9a\u671f\u7684\u306b\u30c6\u30b9\u30c8\u3059\u308b\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30c6\u30b9\u30c8\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002<ul> <li>\u4f8b: <code>CHANNEL_TEST_FREQUENCY=1440</code></li> </ul> </li> <li><code>POLLING_INTERVAL</code>: \u30c1\u30e3\u30cd\u30eb\u6b8b\u9ad8\u306e\u66f4\u65b0\u3068\u30c1\u30e3\u30cd\u30eb\u306e\u53ef\u7528\u6027\u3092\u30c6\u30b9\u30c8\u3059\u308b\u3068\u304d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u9593\u306e\u6642\u9593\u9593\u9694 (\u79d2)\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u9593\u9694\u306a\u3057\u3002<ul> <li>\u4f8b: <code>POLLING_INTERVAL=5</code></li> </ul> </li> </ol>"},{"location":"ja/#_9","title":"\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d1\u30e9\u30e1\u30fc\u30bf","text":"<ol> <li><code>--port &lt;port_number&gt;</code>: \u30b5\u30fc\u30d0\u304c\u30ea\u30c3\u30b9\u30f3\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f <code>3000</code> \u3067\u3059\u3002<ul> <li>\u4f8b: <code>--port 3000</code></li> </ul> </li> <li><code>--log-dir &lt;log_dir&gt;</code>: \u30ed\u30b0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3002\u8a2d\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u30ed\u30b0\u306f\u4fdd\u5b58\u3055\u308c\u307e\u305b\u3093\u3002<ul> <li>\u4f8b: <code>--log-dir ./logs</code></li> </ul> </li> <li><code>--version</code>: \u30b7\u30b9\u30c6\u30e0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u8868\u793a\u3057\u3066\u7d42\u4e86\u3059\u308b\u3002</li> <li><code>--help</code>: \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u7528\u6cd5\u30d8\u30eb\u30d7\u3068\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8aac\u660e\u3092\u8868\u793a\u3002</li> </ol>"},{"location":"ja/#_10","title":"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8","text":""},{"location":"ja/#faq","title":"FAQ","text":"<ol> <li>\u30ce\u30eb\u30de\u3068\u306f\u4f55\u304b\uff1f\u3069\u306e\u3088\u3046\u306b\u8a08\u7b97\u3055\u308c\u307e\u3059\u304b\uff1fOne API \u306b\u306f\u30ce\u30eb\u30de\u8a08\u7b97\u306e\u554f\u984c\u306f\u3042\u308a\u307e\u3059\u304b\uff1f<ul> <li>\u30ce\u30eb\u30de = \u30b0\u30eb\u30fc\u30d7\u500d\u7387 * \u30e2\u30c7\u30eb\u500d\u7387 * (\u30d7\u30ed\u30f3\u30d7\u30c8\u30c8\u30fc\u30af\u30f3\u306e\u6570 + \u5b8c\u4e86\u30c8\u30fc\u30af\u30f3\u306e\u6570 * \u5b8c\u4e86\u500d\u7387)</li> <li>\u5b8c\u4e86\u500d\u7387\u306f\u3001\u516c\u5f0f\u306e\u5b9a\u7fa9\u3068\u4e00\u81f4\u3059\u308b\u3088\u3046\u306b\u3001GPT3.5 \u3067\u306f 1.33\u3001GPT4 \u3067\u306f 2 \u306b\u56fa\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> <li>\u30b9\u30c8\u30ea\u30fc\u30e0\u30e2\u30fc\u30c9\u3067\u306a\u3044\u5834\u5408\u3001\u516c\u5f0f API \u306f\u6d88\u8cbb\u3057\u305f\u30c8\u30fc\u30af\u30f3\u306e\u7dcf\u6570\u3092\u8fd4\u3059\u3002\u305f\u3060\u3057\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3068\u30b3\u30f3\u30d7\u30ea\u30fc\u30c8\u306e\u6d88\u8cbb\u500d\u7387\u306f\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul> </li> <li>\u30a2\u30ab\u30a6\u30f3\u30c8\u6b8b\u9ad8\u306f\u5341\u5206\u306a\u306e\u306b\u3001\"insufficient quota\" \u3068\u8868\u793a\u3055\u308c\u308b\u306e\u306f\u306a\u305c\u3067\u3059\u304b\uff1f<ul> <li>\u30c8\u30fc\u30af\u30f3\u306e\u30af\u30a9\u30fc\u30bf\u304c\u5341\u5206\u304b\u3069\u3046\u304b\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\u30c8\u30fc\u30af\u30f3\u30af\u30a9\u30fc\u30bf\u306f\u30a2\u30ab\u30a6\u30f3\u30c8\u6b8b\u9ad8\u3068\u306f\u5225\u306e\u3082\u306e\u3067\u3059\u3002</li> <li>\u30c8\u30fc\u30af\u30f3\u30af\u30a9\u30fc\u30bf\u306f\u6700\u5927\u4f7f\u7528\u91cf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u7531\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</li> </ul> </li> <li>\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068 \"No available channels\" \u3068\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3067\u3059\u304b\uff1f<ul> <li>\u30e6\u30fc\u30b6\u30fc\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> <li>\u30c1\u30e3\u30f3\u30cd\u30eb\u30e2\u30c7\u30eb\u306e\u8a2d\u5b9a\u3082\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul> </li> <li>\u30c1\u30e3\u30f3\u30cd\u30eb\u30c6\u30b9\u30c8\u304c\u30a8\u30e9\u30fc\u3092\u5831\u544a\u3059\u308b: \"invalid character '&lt;' looking for beginning of value\"<ul> <li>\u3053\u306e\u30a8\u30e9\u30fc\u306f\u3001\u8fd4\u3055\u308c\u305f\u5024\u304c\u6709\u52b9\u306a JSON \u3067\u306f\u306a\u304f\u3001HTML \u30da\u30fc\u30b8\u3067\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3059\u308b\u3002</li> <li>\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u30c7\u30d7\u30ed\u30a4\u30b5\u30a4\u30c8\u306eIP\u304b\u30d7\u30ed\u30ad\u30b7\u306e\u30ce\u30fc\u30c9\u304c CloudFlare \u306b\u3088\u3063\u3066\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> <li>ChatGPT Next Web \u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: \"Failed to fetch\"<ul> <li>\u30c7\u30d7\u30ed\u30a4\u6642\u306b <code>BASE_URL</code> \u3092\u8a2d\u5b9a\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</li> <li>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u30a2\u30c9\u30ec\u30b9\u3068 API Key \u304c\u6b63\u3057\u3044\u304b\u518d\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul> </li> </ol>"},{"location":"ja/#_11","title":"\u95a2\u9023\u30d7\u30ed\u30b8\u30a7\u30af\u30c8","text":"<p>FastGPT: LLM \u306b\u57fa\u3065\u304f\u77e5\u8b58\u8cea\u554f\u5fdc\u7b54\u30b7\u30b9\u30c6\u30e0</p>"},{"location":"ja/#_12","title":"\u6ce8","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002OpenAI \u306e\u5229\u7528\u898f\u7d04\u304a\u3088\u3073**\u9069\u7528\u3055\u308c\u308b\u6cd5\u4ee4**\u3092\u9075\u5b88\u3057\u3066\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002\u9055\u6cd5\u306a\u76ee\u7684\u3067\u306e\u5229\u7528\u306f\u3054\u9060\u616e\u304f\u3060\u3055\u3044\u3002</p> <p>\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f MIT \u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u57fa\u3065\u304d\u3001\u30da\u30fc\u30b8\u306e\u6700\u4e0b\u90e8\u306b\u5e30\u5c5e\u8868\u793a\u3068\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3078\u306e\u30ea\u30f3\u30af\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u57fa\u306b\u3057\u305f\u6d3e\u751f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u3082\u540c\u69d8\u3067\u3059\u3002</p> <p>\u5e30\u5c5e\u8868\u793a\u3092\u542b\u3081\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u4e8b\u524d\u306b\u8a31\u53ef\u3092\u5f97\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <p>MIT \u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u3088\u308b\u3068\u3001\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5229\u7528\u3059\u308b\u30ea\u30b9\u30af\u3068\u8cac\u4efb\u306f\u5229\u7528\u8005\u304c\u8ca0\u3046\u3079\u304d\u3067\u3042\u308a\u3001\u3053\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u958b\u767a\u8005\u306f\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u305b\u3093\u3002</p>"},{"location":"zh/","title":"\u4e2d\u6587","text":"<p> \u4e2d\u6587 | English | \u65e5\u672c\u8a9e </p> <p> </p>   # One API  _\u2728 \u901a\u8fc7\u6807\u51c6\u7684 OpenAI API \u683c\u5f0f\u8bbf\u95ee\u6240\u6709\u7684\u5927\u6a21\u578b\uff0c\u5f00\u7bb1\u5373\u7528 \u2728_   <p> </p> <p> \u90e8\u7f72\u6559\u7a0b   \u00b7   \u4f7f\u7528\u65b9\u6cd5   \u00b7   \u610f\u89c1\u53cd\u9988   \u00b7   \u622a\u56fe\u5c55\u793a   \u00b7   \u5728\u7ebf\u6f14\u793a   \u00b7   \u5e38\u89c1\u95ee\u9898   \u00b7   \u76f8\u5173\u9879\u76ee   \u00b7   \u8d5e\u8d4f\u652f\u6301 </p> <p>[!NOTE] \u672c\u9879\u76ee\u4e3a\u5f00\u6e90\u9879\u76ee\uff0c\u4f7f\u7528\u8005\u5fc5\u987b\u5728\u9075\u5faa OpenAI \u7684\u4f7f\u7528\u6761\u6b3e\u4ee5\u53ca**\u6cd5\u5f8b\u6cd5\u89c4**\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u4e0d\u5f97\u7528\u4e8e\u975e\u6cd5\u7528\u9014\u3002</p> <p>\u6839\u636e\u300a\u751f\u6210\u5f0f\u4eba\u5de5\u667a\u80fd\u670d\u52a1\u7ba1\u7406\u6682\u884c\u529e\u6cd5\u300b\u7684\u8981\u6c42\uff0c\u8bf7\u52ff\u5bf9\u4e2d\u56fd\u5730\u533a\u516c\u4f17\u63d0\u4f9b\u4e00\u5207\u672a\u7ecf\u5907\u6848\u7684\u751f\u6210\u5f0f\u4eba\u5de5\u667a\u80fd\u670d\u52a1\u3002</p> <p>[!WARNING] \u4f7f\u7528 Docker \u62c9\u53d6\u7684\u6700\u65b0\u955c\u50cf\u53ef\u80fd\u662f <code>alpha</code> \u7248\u672c\uff0c\u5982\u679c\u8ffd\u6c42\u7a33\u5b9a\u6027\u8bf7\u624b\u52a8\u6307\u5b9a\u7248\u672c\u3002</p> <p>[!WARNING] \u4f7f\u7528 root \u7528\u6237\u521d\u6b21\u767b\u5f55\u7cfb\u7edf\u540e\uff0c\u52a1\u5fc5\u4fee\u6539\u9ed8\u8ba4\u5bc6\u7801 <code>123456</code>\uff01</p>"},{"location":"zh/#_1","title":"\u529f\u80fd","text":"<ol> <li>\u652f\u6301\u591a\u79cd\u5927\u6a21\u578b\uff1a</li> <li> OpenAI ChatGPT \u7cfb\u5217\u6a21\u578b\uff08\u652f\u6301 Azure OpenAI API\uff09</li> <li> Anthropic Claude \u7cfb\u5217\u6a21\u578b (\u652f\u6301 AWS Claude)</li> <li> Google PaLM2/Gemini \u7cfb\u5217\u6a21\u578b</li> <li> Mistral \u7cfb\u5217\u6a21\u578b</li> <li> \u5b57\u8282\u8df3\u52a8\u8c46\u5305\u5927\u6a21\u578b</li> <li> \u767e\u5ea6\u6587\u5fc3\u4e00\u8a00\u7cfb\u5217\u6a21\u578b</li> <li> \u963f\u91cc\u901a\u4e49\u5343\u95ee\u7cfb\u5217\u6a21\u578b</li> <li> \u8baf\u98de\u661f\u706b\u8ba4\u77e5\u5927\u6a21\u578b</li> <li> \u667a\u8c31 ChatGLM \u7cfb\u5217\u6a21\u578b</li> <li> 360 \u667a\u8111</li> <li> \u817e\u8baf\u6df7\u5143\u5927\u6a21\u578b</li> <li> Moonshot AI</li> <li> \u767e\u5ddd\u5927\u6a21\u578b</li> <li> MINIMAX</li> <li> Groq</li> <li> Ollama</li> <li> \u96f6\u4e00\u4e07\u7269</li> <li> \u9636\u8dc3\u661f\u8fb0</li> <li> Coze</li> <li> Cohere</li> <li> DeepSeek</li> <li> Cloudflare Workers AI</li> <li> DeepL</li> <li> together.ai</li> <li> novita.ai</li> <li> \u7845\u57fa\u6d41\u52a8 SiliconCloud</li> <li>\u652f\u6301\u914d\u7f6e\u955c\u50cf\u4ee5\u53ca\u4f17\u591a\u7b2c\u4e09\u65b9\u4ee3\u7406\u670d\u52a1\u3002</li> <li>\u652f\u6301\u901a\u8fc7**\u8d1f\u8f7d\u5747\u8861**\u7684\u65b9\u5f0f\u8bbf\u95ee\u591a\u4e2a\u6e20\u9053\u3002</li> <li>\u652f\u6301 stream \u6a21\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u6d41\u5f0f\u4f20\u8f93\u5b9e\u73b0\u6253\u5b57\u673a\u6548\u679c\u3002</li> <li>\u652f\u6301**\u591a\u673a\u90e8\u7f72**\uff0c\u8be6\u89c1\u6b64\u5904\u3002</li> <li>\u652f\u6301**\u4ee4\u724c\u7ba1\u7406**\uff0c\u8bbe\u7f6e\u4ee4\u724c\u7684\u8fc7\u671f\u65f6\u95f4\u3001\u989d\u5ea6\u3001\u5141\u8bb8\u7684 IP \u8303\u56f4\u4ee5\u53ca\u5141\u8bb8\u7684\u6a21\u578b\u8bbf\u95ee\u3002</li> <li>\u652f\u6301**\u5151\u6362\u7801\u7ba1\u7406**\uff0c\u652f\u6301\u6279\u91cf\u751f\u6210\u548c\u5bfc\u51fa\u5151\u6362\u7801\uff0c\u53ef\u4f7f\u7528\u5151\u6362\u7801\u4e3a\u8d26\u6237\u8fdb\u884c\u5145\u503c\u3002</li> <li>\u652f\u6301**\u6e20\u9053\u7ba1\u7406**\uff0c\u6279\u91cf\u521b\u5efa\u6e20\u9053\u3002</li> <li>\u652f\u6301**\u7528\u6237\u5206\u7ec4**\u4ee5\u53ca**\u6e20\u9053\u5206\u7ec4**\uff0c\u652f\u6301\u4e3a\u4e0d\u540c\u5206\u7ec4\u8bbe\u7f6e\u4e0d\u540c\u7684\u500d\u7387\u3002</li> <li>\u652f\u6301\u6e20\u9053**\u8bbe\u7f6e\u6a21\u578b\u5217\u8868**\u3002</li> <li>\u652f\u6301**\u67e5\u770b\u989d\u5ea6\u660e\u7ec6**\u3002</li> <li>\u652f\u6301**\u7528\u6237\u9080\u8bf7\u5956\u52b1**\u3002</li> <li>\u652f\u6301\u4ee5\u7f8e\u5143\u4e3a\u5355\u4f4d\u663e\u793a\u989d\u5ea6\u3002</li> <li>\u652f\u6301\u53d1\u5e03\u516c\u544a\uff0c\u8bbe\u7f6e\u5145\u503c\u94fe\u63a5\uff0c\u8bbe\u7f6e\u65b0\u7528\u6237\u521d\u59cb\u989d\u5ea6\u3002</li> <li>\u652f\u6301\u6a21\u578b\u6620\u5c04\uff0c\u91cd\u5b9a\u5411\u7528\u6237\u7684\u8bf7\u6c42\u6a21\u578b\uff0c\u5982\u65e0\u5fc5\u8981\u8bf7\u4e0d\u8981\u8bbe\u7f6e\uff0c\u8bbe\u7f6e\u4e4b\u540e\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u4f53\u88ab\u91cd\u65b0\u6784\u9020\u800c\u975e\u76f4\u63a5\u900f\u4f20\uff0c\u4f1a\u5bfc\u81f4\u90e8\u5206\u8fd8\u672a\u6b63\u5f0f\u652f\u6301\u7684\u5b57\u6bb5\u65e0\u6cd5\u4f20\u9012\u6210\u529f\u3002</li> <li>\u652f\u6301\u5931\u8d25\u81ea\u52a8\u91cd\u8bd5\u3002</li> <li>\u652f\u6301\u7ed8\u56fe\u63a5\u53e3\u3002</li> <li>\u652f\u6301 Cloudflare AI Gateway\uff0c\u6e20\u9053\u8bbe\u7f6e\u7684\u4ee3\u7406\u90e8\u5206\u586b\u5199 <code>https://gateway.ai.cloudflare.com/v1/ACCOUNT_TAG/GATEWAY/openai</code> \u5373\u53ef\u3002</li> <li>\u652f\u6301\u4e30\u5bcc\u7684**\u81ea\u5b9a\u4e49**\u8bbe\u7f6e\uff0c<ol> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u7cfb\u7edf\u540d\u79f0\uff0clogo \u4ee5\u53ca\u9875\u811a\u3002</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u9996\u9875\u548c\u5173\u4e8e\u9875\u9762\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 HTML &amp; Markdown \u4ee3\u7801\u8fdb\u884c\u81ea\u5b9a\u4e49\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e2a\u5355\u72ec\u7684\u7f51\u9875\u901a\u8fc7 iframe \u5d4c\u5165\u3002</li> </ol> </li> <li>\u652f\u6301\u901a\u8fc7\u7cfb\u7edf\u8bbf\u95ee\u4ee4\u724c\u8c03\u7528\u7ba1\u7406 API\uff0c\u8fdb\u800c**\u5728\u65e0\u9700\u4e8c\u5f00\u7684\u60c5\u51b5\u4e0b\u6269\u5c55\u548c\u81ea\u5b9a\u4e49** One API \u7684\u529f\u80fd\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6b64\u5904 API \u6587\u6863\u3002\u3002</li> <li>\u652f\u6301 Cloudflare Turnstile \u7528\u6237\u6821\u9a8c\u3002</li> <li>\u652f\u6301\u7528\u6237\u7ba1\u7406\uff0c\u652f\u6301**\u591a\u79cd\u7528\u6237\u767b\u5f55\u6ce8\u518c\u65b9\u5f0f**\uff1a<ul> <li>\u90ae\u7bb1\u767b\u5f55\u6ce8\u518c\uff08\u652f\u6301\u6ce8\u518c\u90ae\u7bb1\u767d\u540d\u5355\uff09\u4ee5\u53ca\u901a\u8fc7\u90ae\u7bb1\u8fdb\u884c\u5bc6\u7801\u91cd\u7f6e\u3002</li> <li>\u652f\u6301\u4f7f\u7528\u98de\u4e66\u8fdb\u884c\u6388\u6743\u767b\u5f55\u3002</li> <li>GitHub \u5f00\u653e\u6388\u6743\u3002</li> <li>\u5fae\u4fe1\u516c\u4f17\u53f7\u6388\u6743\uff08\u9700\u8981\u989d\u5916\u90e8\u7f72 WeChat Server\uff09\u3002</li> </ul> </li> <li>\u652f\u6301\u4e3b\u9898\u5207\u6362\uff0c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>THEME</code> \u5373\u53ef\uff0c\u9ed8\u8ba4\u4e3a <code>default</code>\uff0c\u6b22\u8fce PR \u66f4\u591a\u4e3b\u9898\uff0c\u5177\u4f53\u53c2\u8003\u6b64\u5904\u3002</li> <li>\u914d\u5408 Message Pusher \u53ef\u5c06\u62a5\u8b66\u4fe1\u606f\u63a8\u9001\u5230\u591a\u79cd App \u4e0a\u3002</li> </ol>"},{"location":"zh/#_2","title":"\u90e8\u7f72","text":""},{"location":"zh/#docker","title":"\u57fa\u4e8e Docker \u8fdb\u884c\u90e8\u7f72","text":"<pre><code># \u4f7f\u7528 SQLite \u7684\u90e8\u7f72\u547d\u4ee4\uff1a\ndocker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api\n# \u4f7f\u7528 MySQL \u7684\u90e8\u7f72\u547d\u4ee4\uff0c\u5728\u4e0a\u9762\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0 `-e SQL_DSN=\"root:123456@tcp(localhost:3306)/oneapi\"`\uff0c\u8bf7\u81ea\u884c\u4fee\u6539\u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff0c\u4e0d\u6e05\u695a\u5982\u4f55\u4fee\u6539\u8bf7\u53c2\u89c1\u4e0b\u9762\u73af\u5883\u53d8\u91cf\u4e00\u8282\u3002\n# \u4f8b\u5982\uff1a\ndocker run --name one-api -d --restart always -p 3000:3000 -e SQL_DSN=\"root:123456@tcp(localhost:3306)/oneapi\" -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api\n</code></pre> <p>\u5176\u4e2d\uff0c<code>-p 3000:3000</code> \u4e2d\u7684\u7b2c\u4e00\u4e2a <code>3000</code> \u662f\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u6570\u636e\u548c\u65e5\u5fd7\u5c06\u4f1a\u4fdd\u5b58\u5728\u5bbf\u4e3b\u673a\u7684 <code>/home/ubuntu/data/one-api</code> \u76ee\u5f55\uff0c\u8bf7\u786e\u4fdd\u8be5\u76ee\u5f55\u5b58\u5728\u4e14\u5177\u6709\u5199\u5165\u6743\u9650\uff0c\u6216\u8005\u66f4\u6539\u4e3a\u5408\u9002\u7684\u76ee\u5f55\u3002</p> <p>\u5982\u679c\u542f\u52a8\u5931\u8d25\uff0c\u8bf7\u6dfb\u52a0 <code>--privileged=true</code>\uff0c\u5177\u4f53\u53c2\u8003 https://github.com/songquanpeng/one-api/issues/482 \u3002</p> <p>\u5982\u679c\u4e0a\u9762\u7684\u955c\u50cf\u65e0\u6cd5\u62c9\u53d6\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528 GitHub \u7684 Docker \u955c\u50cf\uff0c\u5c06\u4e0a\u9762\u7684 <code>justsong/one-api</code> \u66ff\u6362\u4e3a <code>ghcr.io/songquanpeng/one-api</code> \u5373\u53ef\u3002</p> <p>\u5982\u679c\u4f60\u7684\u5e76\u53d1\u91cf\u8f83\u5927\uff0c**\u52a1\u5fc5**\u8bbe\u7f6e <code>SQL_DSN</code>\uff0c\u8be6\u89c1\u4e0b\u9762\u73af\u5883\u53d8\u91cf\u4e00\u8282\u3002</p> <p>\u66f4\u65b0\u547d\u4ee4\uff1a<code>docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower -cR</code></p> <p>Nginx \u7684\u53c2\u8003\u914d\u7f6e\uff1a <pre><code>server{\n   server_name openai.justsong.cn;  # \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4f60\u7684\u57df\u540d\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4f60\u7684\u7aef\u53e3\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n          proxy_read_timeout 300s;  # GPT-4 \u9700\u8981\u8f83\u957f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u8bf7\u81ea\u884c\u8c03\u6574\n   }\n}\n</code></pre></p> <p>\u4e4b\u540e\u4f7f\u7528 Let's Encrypt \u7684 certbot \u914d\u7f6e HTTPS\uff1a <pre><code># Ubuntu \u5b89\u88c5 certbot\uff1a\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# \u751f\u6210\u8bc1\u4e66 &amp; \u4fee\u6539 Nginx \u914d\u7f6e\nsudo certbot --nginx\n# \u6839\u636e\u6307\u793a\u8fdb\u884c\u64cd\u4f5c\n# \u91cd\u542f Nginx\nsudo service nginx restart\n</code></pre></p> <p>\u521d\u59cb\u8d26\u53f7\u7528\u6237\u540d\u4e3a <code>root</code>\uff0c\u5bc6\u7801\u4e3a <code>123456</code>\u3002</p>"},{"location":"zh/#docker-compose","title":"\u57fa\u4e8e Docker Compose \u8fdb\u884c\u90e8\u7f72","text":"<p>\u4ec5\u542f\u52a8\u65b9\u5f0f\u4e0d\u540c\uff0c\u53c2\u6570\u8bbe\u7f6e\u4e0d\u53d8\uff0c\u8bf7\u53c2\u8003\u57fa\u4e8e Docker \u90e8\u7f72\u90e8\u5206</p> <pre><code># \u76ee\u524d\u652f\u6301 MySQL \u542f\u52a8\uff0c\u6570\u636e\u5b58\u50a8\u5728 ./data/mysql \u6587\u4ef6\u5939\u5185\ndocker-compose up -d\n\n# \u67e5\u770b\u90e8\u7f72\u72b6\u6001\ndocker-compose ps\n</code></pre>"},{"location":"zh/#_3","title":"\u624b\u52a8\u90e8\u7f72","text":"<ol> <li>\u4ece GitHub Releases \u4e0b\u8f7d\u53ef\u6267\u884c\u6587\u4ef6\u6216\u8005\u4ece\u6e90\u7801\u7f16\u8bd1\uff1a    ```shell    git clone https://github.com/songquanpeng/one-api.git</li> </ol> <p># \u6784\u5efa\u524d\u7aef    cd one-api/web/default    npm install    npm run build</p> <p># \u6784\u5efa\u540e\u7aef    cd ../..    go mod download    go build -ldflags \"-s -w\" -o one-api    <code>``` 2. \u8fd0\u884c\uff1a    <pre><code>chmod u+x one-api\n./one-api --port 3000 --log-dir ./logs\n</code></pre> 3. \u8bbf\u95ee [http://localhost:3000/](http://localhost:3000/) \u5e76\u767b\u5f55\u3002\u521d\u59cb\u8d26\u53f7\u7528\u6237\u540d\u4e3a</code>root<code>\uff0c\u5bc6\u7801\u4e3a</code>123456`\u3002</p> <p>\u66f4\u52a0\u8be6\u7ec6\u7684\u90e8\u7f72\u6559\u7a0b\u53c2\u89c1\u6b64\u5904\u3002</p>"},{"location":"zh/#_4","title":"\u591a\u673a\u90e8\u7f72","text":"<ol> <li>\u6240\u6709\u670d\u52a1\u5668 <code>SESSION_SECRET</code> \u8bbe\u7f6e\u4e00\u6837\u7684\u503c\u3002</li> <li>\u5fc5\u987b\u8bbe\u7f6e <code>SQL_DSN</code>\uff0c\u4f7f\u7528 MySQL \u6570\u636e\u5e93\u800c\u975e SQLite\uff0c\u6240\u6709\u670d\u52a1\u5668\u8fde\u63a5\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u3002</li> <li>\u6240\u6709\u4ece\u670d\u52a1\u5668\u5fc5\u987b\u8bbe\u7f6e <code>NODE_TYPE</code> \u4e3a <code>slave</code>\uff0c\u4e0d\u8bbe\u7f6e\u5219\u9ed8\u8ba4\u4e3a\u4e3b\u670d\u52a1\u5668\u3002</li> <li>\u8bbe\u7f6e <code>SYNC_FREQUENCY</code> \u540e\u670d\u52a1\u5668\u5c06\u5b9a\u671f\u4ece\u6570\u636e\u5e93\u540c\u6b65\u914d\u7f6e\uff0c\u5728\u4f7f\u7528\u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u60c5\u51b5\u4e0b\uff0c\u63a8\u8350\u8bbe\u7f6e\u8be5\u9879\u5e76\u542f\u7528 Redis\uff0c\u65e0\u8bba\u4e3b\u4ece\u3002</li> <li>\u4ece\u670d\u52a1\u5668\u53ef\u4ee5\u9009\u62e9\u8bbe\u7f6e <code>FRONTEND_BASE_URL</code>\uff0c\u4ee5\u91cd\u5b9a\u5411\u9875\u9762\u8bf7\u6c42\u5230\u4e3b\u670d\u52a1\u5668\u3002</li> <li>\u4ece\u670d\u52a1\u5668\u4e0a**\u5206\u522b**\u88c5\u597d Redis\uff0c\u8bbe\u7f6e\u597d <code>REDIS_CONN_STRING</code>\uff0c\u8fd9\u6837\u53ef\u4ee5\u505a\u5230\u5728\u7f13\u5b58\u672a\u8fc7\u671f\u7684\u60c5\u51b5\u4e0b\u6570\u636e\u5e93\u96f6\u8bbf\u95ee\uff0c\u53ef\u4ee5\u51cf\u5c11\u5ef6\u8fdf\u3002</li> <li>\u5982\u679c\u4e3b\u670d\u52a1\u5668\u8bbf\u95ee\u6570\u636e\u5e93\u5ef6\u8fdf\u4e5f\u6bd4\u8f83\u9ad8\uff0c\u5219\u4e5f\u9700\u8981\u542f\u7528 Redis\uff0c\u5e76\u8bbe\u7f6e <code>SYNC_FREQUENCY</code>\uff0c\u4ee5\u5b9a\u671f\u4ece\u6570\u636e\u5e93\u540c\u6b65\u914d\u7f6e\u3002</li> </ol> <p>\u73af\u5883\u53d8\u91cf\u7684\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u8be6\u89c1\u6b64\u5904\u3002</p>"},{"location":"zh/#_5","title":"\u5b9d\u5854\u90e8\u7f72\u6559\u7a0b","text":"<p>\u8be6\u89c1 #175\u3002</p> <p>\u5982\u679c\u90e8\u7f72\u540e\u8bbf\u95ee\u51fa\u73b0\u7a7a\u767d\u9875\u9762\uff0c\u8be6\u89c1 #97\u3002</p>"},{"location":"zh/#one-api","title":"\u90e8\u7f72\u7b2c\u4e09\u65b9\u670d\u52a1\u914d\u5408 One API \u4f7f\u7528","text":"<p>\u6b22\u8fce PR \u6dfb\u52a0\u66f4\u591a\u793a\u4f8b\u3002</p>"},{"location":"zh/#chatgpt-next-web","title":"ChatGPT Next Web","text":"<p>\u9879\u76ee\u4e3b\u9875\uff1ahttps://github.com/Yidadaa/ChatGPT-Next-Web</p> <pre><code>docker run --name chat-next-web -d -p 3001:3000 yidadaa/chatgpt-next-web\n</code></pre> <p>\u6ce8\u610f\u4fee\u6539\u7aef\u53e3\u53f7\uff0c\u4e4b\u540e\u5728\u9875\u9762\u4e0a\u8bbe\u7f6e\u63a5\u53e3\u5730\u5740\uff08\u4f8b\u5982\uff1ahttps://openai.justsong.cn/ \uff09\u548c API Key \u5373\u53ef\u3002</p>"},{"location":"zh/#chatgpt-web","title":"ChatGPT Web","text":"<p>\u9879\u76ee\u4e3b\u9875\uff1ahttps://github.com/Chanzhaoyu/chatgpt-web</p> <pre><code>docker run --name chatgpt-web -d -p 3002:3002 -e OPENAI_API_BASE_URL=https://openai.justsong.cn -e OPENAI_API_KEY=sk-xxx chenzhaoyu94/chatgpt-web\n</code></pre> <p>\u6ce8\u610f\u4fee\u6539\u7aef\u53e3\u53f7\u3001<code>OPENAI_API_BASE_URL</code> \u548c <code>OPENAI_API_KEY</code>\u3002</p>"},{"location":"zh/#qchatgpt-qq","title":"QChatGPT - QQ\u673a\u5668\u4eba","text":"<p>\u9879\u76ee\u4e3b\u9875\uff1ahttps://github.com/RockChinQ/QChatGPT</p> <p>\u6839\u636e\u6587\u6863\u5b8c\u6210\u90e8\u7f72\u540e\uff0c\u5728 <code>data/provider.json</code>\u8bbe\u7f6e<code>requester.openai-chat-completions.base-url</code>\u4e3a One API \u5b9e\u4f8b\u5730\u5740\uff0c\u5e76\u586b\u5199 API Key \u5230 <code>keys.openai</code> \u7ec4\u4e2d\uff0c\u8bbe\u7f6e <code>model</code> \u4e3a\u8981\u4f7f\u7528\u7684\u6a21\u578b\u540d\u79f0\u3002</p> <p>\u8fd0\u884c\u671f\u95f4\u53ef\u4ee5\u901a\u8fc7<code>!model</code>\u547d\u4ee4\u67e5\u770b\u3001\u5207\u6362\u53ef\u7528\u6a21\u578b\u3002</p>"},{"location":"zh/#_6","title":"\u90e8\u7f72\u5230\u7b2c\u4e09\u65b9\u5e73\u53f0","text":"\u90e8\u7f72\u5230 Sealos    &gt; Sealos \u7684\u670d\u52a1\u5668\u5728\u56fd\u5916\uff0c\u4e0d\u9700\u8981\u989d\u5916\u5904\u7406\u7f51\u7edc\u95ee\u9898\uff0c\u652f\u6301\u9ad8\u5e76\u53d1 &amp; \u52a8\u6001\u4f38\u7f29\u3002  \u70b9\u51fb\u4ee5\u4e0b\u6309\u94ae\u4e00\u952e\u90e8\u7f72\uff08\u90e8\u7f72\u540e\u8bbf\u95ee\u51fa\u73b0 404 \u8bf7\u7b49\u5f85 3~5 \u5206\u949f\uff09\uff1a  [![Deploy-on-Sealos.svg](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)   \u90e8\u7f72\u5230 Zeabur   &gt; Zeabur \u7684\u670d\u52a1\u5668\u5728\u56fd\u5916\uff0c\u81ea\u52a8\u89e3\u51b3\u4e86\u7f51\u7edc\u7684\u95ee\u9898\uff0c\u540c\u65f6\u514d\u8d39\u7684\u989d\u5ea6\u4e5f\u8db3\u591f\u4e2a\u4eba\u4f7f\u7528  [![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)  1. \u9996\u5148 fork \u4e00\u4efd\u4ee3\u7801\u3002 2. \u8fdb\u5165 [Zeabur](https://zeabur.com?referralCode=songquanpeng)\uff0c\u767b\u5f55\uff0c\u8fdb\u5165\u63a7\u5236\u53f0\u3002 3. \u65b0\u5efa\u4e00\u4e2a Project\uff0c\u5728 Service -&gt; Add Service \u9009\u62e9 Marketplace\uff0c\u9009\u62e9 MySQL\uff0c\u5e76\u8bb0\u4e0b\u8fde\u63a5\u53c2\u6570\uff08\u7528\u6237\u540d\u3001\u5bc6\u7801\u3001\u5730\u5740\u3001\u7aef\u53e3\uff09\u3002 4. \u590d\u5236\u94fe\u63a5\u53c2\u6570\uff0c\u8fd0\u884c ```create database `one-api` ``` \u521b\u5efa\u6570\u636e\u5e93\u3002 5. \u7136\u540e\u5728 Service -&gt; Add Service\uff0c\u9009\u62e9 Git\uff08\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u5148\u6388\u6743\uff09\uff0c\u9009\u62e9\u4f60 fork \u7684\u4ed3\u5e93\u3002 6. Deploy \u4f1a\u81ea\u52a8\u5f00\u59cb\uff0c\u5148\u53d6\u6d88\u3002\u8fdb\u5165\u4e0b\u65b9 Variable\uff0c\u6dfb\u52a0\u4e00\u4e2a `PORT`\uff0c\u503c\u4e3a `3000`\uff0c\u518d\u6dfb\u52a0\u4e00\u4e2a `SQL_DSN`\uff0c\u503c\u4e3a `:@tcp(:)/one-api` \uff0c\u7136\u540e\u4fdd\u5b58\u3002 \u6ce8\u610f\u5982\u679c\u4e0d\u586b\u5199 `SQL_DSN`\uff0c\u6570\u636e\u5c06\u65e0\u6cd5\u6301\u4e45\u5316\uff0c\u91cd\u65b0\u90e8\u7f72\u540e\u6570\u636e\u4f1a\u4e22\u5931\u3002 7. \u9009\u62e9 Redeploy\u3002 8. \u8fdb\u5165\u4e0b\u65b9 Domains\uff0c\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u57df\u540d\u524d\u7f00\uff0c\u5982 \"my-one-api\"\uff0c\u6700\u7ec8\u57df\u540d\u4e3a \"my-one-api.zeabur.app\"\uff0c\u4e5f\u53ef\u4ee5 CNAME \u81ea\u5df1\u7684\u57df\u540d\u3002 9. \u7b49\u5f85\u90e8\u7f72\u5b8c\u6210\uff0c\u70b9\u51fb\u751f\u6210\u7684\u57df\u540d\u8fdb\u5165 One API\u3002   \u90e8\u7f72\u5230 Render   &gt; Render \u63d0\u4f9b\u514d\u8d39\u989d\u5ea6\uff0c\u7ed1\u5361\u540e\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63d0\u5347\u989d\u5ea6  Render \u53ef\u4ee5\u76f4\u63a5\u90e8\u7f72 docker \u955c\u50cf\uff0c\u4e0d\u9700\u8981 fork \u4ed3\u5e93\uff1ahttps://dashboard.render.com"},{"location":"zh/#_7","title":"\u914d\u7f6e","text":"<p>\u7cfb\u7edf\u672c\u8eab\u5f00\u7bb1\u5373\u7528\u3002</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u6216\u8005\u547d\u4ee4\u884c\u53c2\u6570\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u7b49\u5230\u7cfb\u7edf\u542f\u52a8\u540e\uff0c\u4f7f\u7528 <code>root</code> \u7528\u6237\u767b\u5f55\u7cfb\u7edf\u5e76\u505a\u8fdb\u4e00\u6b65\u7684\u914d\u7f6e\u3002</p> <p>Note\uff1a\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u67d0\u4e2a\u914d\u7f6e\u9879\u7684\u542b\u4e49\uff0c\u53ef\u4ee5\u4e34\u65f6\u5220\u6389\u503c\u4ee5\u770b\u5230\u8fdb\u4e00\u6b65\u7684\u63d0\u793a\u6587\u5b57\u3002</p>"},{"location":"zh/#_8","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u5728<code>\u6e20\u9053</code>\u9875\u9762\u4e2d\u6dfb\u52a0\u4f60\u7684 API Key\uff0c\u4e4b\u540e\u5728<code>\u4ee4\u724c</code>\u9875\u9762\u4e2d\u65b0\u589e\u8bbf\u95ee\u4ee4\u724c\u3002</p> <p>\u4e4b\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u4f60\u7684\u4ee4\u724c\u8bbf\u95ee One API \u4e86\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e0e OpenAI API \u4e00\u81f4\u3002</p> <p>\u4f60\u9700\u8981\u5728\u5404\u79cd\u7528\u5230 OpenAI API \u7684\u5730\u65b9\u8bbe\u7f6e API Base \u4e3a\u4f60\u7684 One API \u7684\u90e8\u7f72\u5730\u5740\uff0c\u4f8b\u5982\uff1a<code>https://openai.justsong.cn</code>\uff0cAPI Key \u5219\u4e3a\u4f60\u5728 One API \u4e2d\u751f\u6210\u7684\u4ee4\u724c\u3002</p> <p>\u6ce8\u610f\uff0c\u5177\u4f53\u7684 API Base \u7684\u683c\u5f0f\u53d6\u51b3\u4e8e\u4f60\u6240\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u3002</p> <p>\u4f8b\u5982\u5bf9\u4e8e OpenAI \u7684\u5b98\u65b9\u5e93\uff1a <pre><code>OPENAI_API_KEY=\"sk-xxxxxx\"\nOPENAI_API_BASE=\"https://&lt;HOST&gt;:&lt;PORT&gt;/v1\"\n</code></pre></p> <pre><code>graph LR\n    A(\u7528\u6237)\n    A ---&gt;|\u4f7f\u7528 One API \u5206\u53d1\u7684 key \u8fdb\u884c\u8bf7\u6c42| B(One API)\n    B --&gt;|\u4e2d\u7ee7\u8bf7\u6c42| C(OpenAI)\n    B --&gt;|\u4e2d\u7ee7\u8bf7\u6c42| D(Azure)\n    B --&gt;|\u4e2d\u7ee7\u8bf7\u6c42| E(\u5176\u4ed6 OpenAI API \u683c\u5f0f\u4e0b\u6e38\u6e20\u9053)\n    B --&gt;|\u4e2d\u7ee7\u5e76\u4fee\u6539\u8bf7\u6c42\u4f53\u548c\u8fd4\u56de\u4f53| F(\u975e OpenAI API \u683c\u5f0f\u4e0b\u6e38\u6e20\u9053)</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee4\u724c\u540e\u9762\u6dfb\u52a0\u6e20\u9053 ID \u7684\u65b9\u5f0f\u6307\u5b9a\u4f7f\u7528\u54ea\u4e00\u4e2a\u6e20\u9053\u5904\u7406\u672c\u6b21\u8bf7\u6c42\uff0c\u4f8b\u5982\uff1a<code>Authorization: Bearer ONE_API_KEY-CHANNEL_ID</code>\u3002 \u6ce8\u610f\uff0c\u9700\u8981\u662f\u7ba1\u7406\u5458\u7528\u6237\u521b\u5efa\u7684\u4ee4\u724c\u624d\u80fd\u6307\u5b9a\u6e20\u9053 ID\u3002</p> <p>\u4e0d\u52a0\u7684\u8bdd\u5c06\u4f1a\u4f7f\u7528\u8d1f\u8f7d\u5747\u8861\u7684\u65b9\u5f0f\u4f7f\u7528\u591a\u4e2a\u6e20\u9053\u3002</p>"},{"location":"zh/#_9","title":"\u73af\u5883\u53d8\u91cf","text":"<p>One API \u652f\u6301\u4ece <code>.env</code> \u6587\u4ef6\u4e2d\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\uff0c\u8bf7\u53c2\u7167 <code>.env.example</code> \u6587\u4ef6\uff0c\u4f7f\u7528\u65f6\u8bf7\u5c06\u5176\u91cd\u547d\u540d\u4e3a <code>.env</code>\u3002 1. <code>REDIS_CONN_STRING</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u4f7f\u7528 Redis \u4f5c\u4e3a\u7f13\u5b58\u4f7f\u7528\u3002    + \u4f8b\u5b50\uff1a<code>REDIS_CONN_STRING=redis://default:redispw@localhost:49153</code>    + \u5982\u679c\u6570\u636e\u5e93\u8bbf\u95ee\u5ef6\u8fdf\u5f88\u4f4e\uff0c\u6ca1\u6709\u5fc5\u8981\u542f\u7528 Redis\uff0c\u542f\u7528\u540e\u53cd\u800c\u4f1a\u51fa\u73b0\u6570\u636e\u6ede\u540e\u7684\u95ee\u9898\u3002 2. <code>SESSION_SECRET</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u4f7f\u7528\u56fa\u5b9a\u7684\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u8fd9\u6837\u7cfb\u7edf\u91cd\u65b0\u542f\u52a8\u540e\u5df2\u767b\u5f55\u7528\u6237\u7684 cookie \u5c06\u4f9d\u65e7\u6709\u6548\u3002    + \u4f8b\u5b50\uff1a<code>SESSION_SECRET=random_string</code> 3. <code>SQL_DSN</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u4f7f\u7528\u6307\u5b9a\u6570\u636e\u5e93\u800c\u975e SQLite\uff0c\u8bf7\u4f7f\u7528 MySQL \u6216 PostgreSQL\u3002    + \u4f8b\u5b50\uff1a      + MySQL\uff1a<code>SQL_DSN=root:123456@tcp(localhost:3306)/oneapi</code>      + PostgreSQL\uff1a<code>SQL_DSN=postgres://postgres:123456@localhost:5432/oneapi</code>\uff08\u9002\u914d\u4e2d\uff0c\u6b22\u8fce\u53cd\u9988\uff09    + \u6ce8\u610f\u9700\u8981\u63d0\u524d\u5efa\u7acb\u6570\u636e\u5e93 <code>oneapi</code>\uff0c\u65e0\u9700\u624b\u52a8\u5efa\u8868\uff0c\u7a0b\u5e8f\u5c06\u81ea\u52a8\u5efa\u8868\u3002    + \u5982\u679c\u4f7f\u7528\u672c\u5730\u6570\u636e\u5e93\uff1a\u90e8\u7f72\u547d\u4ee4\u53ef\u6dfb\u52a0 <code>--network=\"host\"</code> \u4ee5\u4f7f\u5f97\u5bb9\u5668\u5185\u7684\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u5230\u5bbf\u4e3b\u673a\u4e0a\u7684 MySQL\u3002    + \u5982\u679c\u4f7f\u7528\u4e91\u6570\u636e\u5e93\uff1a\u5982\u679c\u4e91\u670d\u52a1\u5668\u9700\u8981\u9a8c\u8bc1\u8eab\u4efd\uff0c\u9700\u8981\u5728\u8fde\u63a5\u53c2\u6570\u4e2d\u6dfb\u52a0 <code>?tls=skip-verify</code>\u3002    + \u8bf7\u6839\u636e\u4f60\u7684\u6570\u636e\u5e93\u914d\u7f6e\u4fee\u6539\u4e0b\u5217\u53c2\u6570\uff08\u6216\u8005\u4fdd\u6301\u9ed8\u8ba4\u503c\uff09\uff1a      + <code>SQL_MAX_IDLE_CONNS</code>\uff1a\u6700\u5927\u7a7a\u95f2\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a <code>100</code>\u3002      + <code>SQL_MAX_OPEN_CONNS</code>\uff1a\u6700\u5927\u6253\u5f00\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a <code>1000</code>\u3002        + \u5982\u679c\u62a5\u9519 <code>Error 1040: Too many connections</code>\uff0c\u8bf7\u9002\u5f53\u51cf\u5c0f\u8be5\u503c\u3002      + <code>SQL_CONN_MAX_LIFETIME</code>\uff1a\u8fde\u63a5\u7684\u6700\u5927\u751f\u547d\u5468\u671f\uff0c\u9ed8\u8ba4\u4e3a <code>60</code>\uff0c\u5355\u4f4d\u5206\u949f\u3002 4. <code>LOG_SQL_DSN</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u4e3a <code>logs</code> \u8868\u4f7f\u7528\u72ec\u7acb\u7684\u6570\u636e\u5e93\uff0c\u8bf7\u4f7f\u7528 MySQL \u6216 PostgreSQL\u3002 5. <code>FRONTEND_BASE_URL</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u91cd\u5b9a\u5411\u9875\u9762\u8bf7\u6c42\u5230\u6307\u5b9a\u7684\u5730\u5740\uff0c\u4ec5\u9650\u4ece\u670d\u52a1\u5668\u8bbe\u7f6e\u3002    + \u4f8b\u5b50\uff1a<code>FRONTEND_BASE_URL=https://openai.justsong.cn</code> 6. <code>MEMORY_CACHE_ENABLED</code>\uff1a\u542f\u7528\u5185\u5b58\u7f13\u5b58\uff0c\u4f1a\u5bfc\u81f4\u7528\u6237\u989d\u5ea6\u7684\u66f4\u65b0\u5b58\u5728\u4e00\u5b9a\u7684\u5ef6\u8fdf\uff0c\u53ef\u9009\u503c\u4e3a <code>true</code> \u548c <code>false</code>\uff0c\u672a\u8bbe\u7f6e\u5219\u9ed8\u8ba4\u4e3a <code>false</code>\u3002    + \u4f8b\u5b50\uff1a<code>MEMORY_CACHE_ENABLED=true</code> 7. <code>SYNC_FREQUENCY</code>\uff1a\u5728\u542f\u7528\u7f13\u5b58\u7684\u60c5\u51b5\u4e0b\u4e0e\u6570\u636e\u5e93\u540c\u6b65\u914d\u7f6e\u7684\u9891\u7387\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u4e3a <code>600</code> \u79d2\u3002    + \u4f8b\u5b50\uff1a<code>SYNC_FREQUENCY=60</code> 8. <code>NODE_TYPE</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u6307\u5b9a\u8282\u70b9\u7c7b\u578b\uff0c\u53ef\u9009\u503c\u4e3a <code>master</code> \u548c <code>slave</code>\uff0c\u672a\u8bbe\u7f6e\u5219\u9ed8\u8ba4\u4e3a <code>master</code>\u3002    + \u4f8b\u5b50\uff1a<code>NODE_TYPE=slave</code> 9. <code>CHANNEL_UPDATE_FREQUENCY</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u5b9a\u671f\u66f4\u65b0\u6e20\u9053\u4f59\u989d\uff0c\u5355\u4f4d\u4e3a\u5206\u949f\uff0c\u672a\u8bbe\u7f6e\u5219\u4e0d\u8fdb\u884c\u66f4\u65b0\u3002    + \u4f8b\u5b50\uff1a<code>CHANNEL_UPDATE_FREQUENCY=1440</code> 10. <code>CHANNEL_TEST_FREQUENCY</code>\uff1a\u8bbe\u7f6e\u4e4b\u540e\u5c06\u5b9a\u671f\u68c0\u67e5\u6e20\u9053\uff0c\u5355\u4f4d\u4e3a\u5206\u949f\uff0c\u672a\u8bbe\u7f6e\u5219\u4e0d\u8fdb\u884c\u68c0\u67e5\u3002     +\u4f8b\u5b50\uff1a<code>CHANNEL_TEST_FREQUENCY=1440</code> 11. <code>POLLING_INTERVAL</code>\uff1a\u6279\u91cf\u66f4\u65b0\u6e20\u9053\u4f59\u989d\u4ee5\u53ca\u6d4b\u8bd5\u53ef\u7528\u6027\u65f6\u7684\u8bf7\u6c42\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u65e0\u95f4\u9694\u3002     + \u4f8b\u5b50\uff1a<code>POLLING_INTERVAL=5</code> 12. <code>BATCH_UPDATE_ENABLED</code>\uff1a\u542f\u7528\u6570\u636e\u5e93\u6279\u91cf\u66f4\u65b0\u805a\u5408\uff0c\u4f1a\u5bfc\u81f4\u7528\u6237\u989d\u5ea6\u7684\u66f4\u65b0\u5b58\u5728\u4e00\u5b9a\u7684\u5ef6\u8fdf\u53ef\u9009\u503c\u4e3a <code>true</code> \u548c <code>false</code>\uff0c\u672a\u8bbe\u7f6e\u5219\u9ed8\u8ba4\u4e3a <code>false</code>\u3002     + \u4f8b\u5b50\uff1a<code>BATCH_UPDATE_ENABLED=true</code>     + \u5982\u679c\u4f60\u9047\u5230\u4e86\u6570\u636e\u5e93\u8fde\u63a5\u6570\u8fc7\u591a\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u542f\u7528\u8be5\u9009\u9879\u3002 13. <code>BATCH_UPDATE_INTERVAL=5</code>\uff1a\u6279\u91cf\u66f4\u65b0\u805a\u5408\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u4e3a <code>5</code>\u3002     + \u4f8b\u5b50\uff1a<code>BATCH_UPDATE_INTERVAL=5</code> 14. \u8bf7\u6c42\u9891\u7387\u9650\u5236\uff1a     + <code>GLOBAL_API_RATE_LIMIT</code>\uff1a\u5168\u5c40 API \u901f\u7387\u9650\u5236\uff08\u9664\u4e2d\u7ee7\u8bf7\u6c42\u5916\uff09\uff0c\u5355 ip \u4e09\u5206\u949f\u5185\u7684\u6700\u5927\u8bf7\u6c42\u6570\uff0c\u9ed8\u8ba4\u4e3a <code>180</code>\u3002     + <code>GLOBAL_WEB_RATE_LIMIT</code>\uff1a\u5168\u5c40 Web \u901f\u7387\u9650\u5236\uff0c\u5355 ip \u4e09\u5206\u949f\u5185\u7684\u6700\u5927\u8bf7\u6c42\u6570\uff0c\u9ed8\u8ba4\u4e3a <code>60</code>\u3002 15. \u7f16\u7801\u5668\u7f13\u5b58\u8bbe\u7f6e\uff1a     + <code>TIKTOKEN_CACHE_DIR</code>\uff1a\u9ed8\u8ba4\u7a0b\u5e8f\u542f\u52a8\u65f6\u4f1a\u8054\u7f51\u4e0b\u8f7d\u4e00\u4e9b\u901a\u7528\u7684\u8bcd\u5143\u7684\u7f16\u7801\uff0c\u5982\uff1a<code>gpt-3.5-turbo</code>\uff0c\u5728\u4e00\u4e9b\u7f51\u7edc\u73af\u5883\u4e0d\u7a33\u5b9a\uff0c\u6216\u8005\u79bb\u7ebf\u60c5\u51b5\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u542f\u52a8\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u914d\u7f6e\u6b64\u76ee\u5f55\u7f13\u5b58\u6570\u636e\uff0c\u53ef\u8fc1\u79fb\u5230\u79bb\u7ebf\u73af\u5883\u3002     + <code>DATA_GYM_CACHE_DIR</code>\uff1a\u76ee\u524d\u8be5\u914d\u7f6e\u4f5c\u7528\u4e0e <code>TIKTOKEN_CACHE_DIR</code> \u4e00\u81f4\uff0c\u4f46\u662f\u4f18\u5148\u7ea7\u6ca1\u6709\u5b83\u9ad8\u3002 16. <code>RELAY_TIMEOUT</code>\uff1a\u4e2d\u7ee7\u8d85\u65f6\u8bbe\u7f6e\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u9ed8\u8ba4\u4e0d\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u3002 17. <code>RELAY_PROXY</code>\uff1a\u8bbe\u7f6e\u540e\u4f7f\u7528\u8be5\u4ee3\u7406\u6765\u8bf7\u6c42 API\u3002 18. <code>USER_CONTENT_REQUEST_TIMEOUT</code>\uff1a\u7528\u6237\u4e0a\u4f20\u5185\u5bb9\u4e0b\u8f7d\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002 19. <code>USER_CONTENT_REQUEST_PROXY</code>\uff1a\u8bbe\u7f6e\u540e\u4f7f\u7528\u8be5\u4ee3\u7406\u6765\u8bf7\u6c42\u7528\u6237\u4e0a\u4f20\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\u56fe\u7247\u3002 20. <code>SQLITE_BUSY_TIMEOUT</code>\uff1aSQLite \u9501\u7b49\u5f85\u8d85\u65f6\u8bbe\u7f6e\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u9ed8\u8ba4 <code>3000</code>\u3002 21. <code>GEMINI_SAFETY_SETTING</code>\uff1aGemini \u7684\u5b89\u5168\u8bbe\u7f6e\uff0c\u9ed8\u8ba4 <code>BLOCK_NONE</code>\u3002 22. <code>GEMINI_VERSION</code>\uff1aOne API \u6240\u4f7f\u7528\u7684 Gemini \u7248\u672c\uff0c\u9ed8\u8ba4\u4e3a <code>v1</code>\u3002 23. <code>THEME</code>\uff1a\u7cfb\u7edf\u7684\u4e3b\u9898\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a <code>default</code>\uff0c\u5177\u4f53\u53ef\u9009\u503c\u53c2\u8003\u6b64\u5904\u3002 24. <code>ENABLE_METRIC</code>\uff1a\u662f\u5426\u6839\u636e\u8bf7\u6c42\u6210\u529f\u7387\u7981\u7528\u6e20\u9053\uff0c\u9ed8\u8ba4\u4e0d\u5f00\u542f\uff0c\u53ef\u9009\u503c\u4e3a <code>true</code> \u548c <code>false</code>\u3002 25. <code>METRIC_QUEUE_SIZE</code>\uff1a\u8bf7\u6c42\u6210\u529f\u7387\u7edf\u8ba1\u961f\u5217\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a <code>10</code>\u3002 26. <code>METRIC_SUCCESS_RATE_THRESHOLD</code>\uff1a\u8bf7\u6c42\u6210\u529f\u7387\u9608\u503c\uff0c\u9ed8\u8ba4\u4e3a <code>0.8</code>\u3002 27. <code>INITIAL_ROOT_TOKEN</code>\uff1a\u5982\u679c\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5219\u5728\u7cfb\u7edf\u9996\u6b21\u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u503c\u4e3a\u8be5\u73af\u5883\u53d8\u91cf\u503c\u7684 root \u7528\u6237\u4ee4\u724c\u3002 28. <code>INITIAL_ROOT_ACCESS_TOKEN</code>\uff1a\u5982\u679c\u8bbe\u7f6e\u4e86\u8be5\u503c\uff0c\u5219\u5728\u7cfb\u7edf\u9996\u6b21\u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u503c\u4e3a\u8be5\u73af\u5883\u53d8\u91cf\u7684 root \u7528\u6237\u521b\u5efa\u7cfb\u7edf\u7ba1\u7406\u4ee4\u724c\u3002</p>"},{"location":"zh/#_10","title":"\u547d\u4ee4\u884c\u53c2\u6570","text":"<ol> <li><code>--port &lt;port_number&gt;</code>: \u6307\u5b9a\u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\u53f7\uff0c\u9ed8\u8ba4\u4e3a <code>3000</code>\u3002</li> <li>\u4f8b\u5b50\uff1a<code>--port 3000</code></li> <li><code>--log-dir &lt;log_dir&gt;</code>: \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u5939\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4fdd\u5b58\u81f3\u5de5\u4f5c\u76ee\u5f55\u7684 <code>logs</code> \u6587\u4ef6\u5939\u4e0b\u3002</li> <li>\u4f8b\u5b50\uff1a<code>--log-dir ./logs</code></li> <li><code>--version</code>: \u6253\u5370\u7cfb\u7edf\u7248\u672c\u53f7\u5e76\u9000\u51fa\u3002</li> <li><code>--help</code>: \u67e5\u770b\u547d\u4ee4\u7684\u4f7f\u7528\u5e2e\u52a9\u548c\u53c2\u6570\u8bf4\u660e\u3002</li> </ol>"},{"location":"zh/#_11","title":"\u6f14\u793a","text":""},{"location":"zh/#_12","title":"\u5728\u7ebf\u6f14\u793a","text":"<p>\u6ce8\u610f\uff0c\u8be5\u6f14\u793a\u7ad9\u4e0d\u63d0\u4f9b\u5bf9\u5916\u670d\u52a1\uff1a https://openai.justsong.cn</p>"},{"location":"zh/#_13","title":"\u622a\u56fe\u5c55\u793a","text":""},{"location":"zh/#_14","title":"\u5e38\u89c1\u95ee\u9898","text":"<ol> <li>\u989d\u5ea6\u662f\u4ec0\u4e48\uff1f\u600e\u4e48\u8ba1\u7b97\u7684\uff1fOne API \u7684\u989d\u5ea6\u8ba1\u7b97\u6709\u95ee\u9898\uff1f</li> <li>\u989d\u5ea6 = \u5206\u7ec4\u500d\u7387 * \u6a21\u578b\u500d\u7387 * \uff08\u63d0\u793a token \u6570 + \u8865\u5168 token \u6570 * \u8865\u5168\u500d\u7387\uff09</li> <li>\u5176\u4e2d\u8865\u5168\u500d\u7387\u5bf9\u4e8e GPT3.5 \u56fa\u5b9a\u4e3a 1.33\uff0cGPT4 \u4e3a 2\uff0c\u4e0e\u5b98\u65b9\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u5982\u679c\u662f\u975e\u6d41\u6a21\u5f0f\uff0c\u5b98\u65b9\u63a5\u53e3\u4f1a\u8fd4\u56de\u6d88\u8017\u7684\u603b token\uff0c\u4f46\u662f\u4f60\u8981\u6ce8\u610f\u63d0\u793a\u548c\u8865\u5168\u7684\u6d88\u8017\u500d\u7387\u4e0d\u4e00\u6837\u3002</li> <li>\u6ce8\u610f\uff0cOne API \u7684\u9ed8\u8ba4\u500d\u7387\u5c31\u662f\u5b98\u65b9\u500d\u7387\uff0c\u662f\u5df2\u7ecf\u8c03\u6574\u8fc7\u7684\u3002</li> <li>\u8d26\u6237\u989d\u5ea6\u8db3\u591f\u4e3a\u4ec0\u4e48\u63d0\u793a\u989d\u5ea6\u4e0d\u8db3\uff1f</li> <li>\u8bf7\u68c0\u67e5\u4f60\u7684\u4ee4\u724c\u989d\u5ea6\u662f\u5426\u8db3\u591f\uff0c\u8fd9\u4e2a\u548c\u8d26\u6237\u989d\u5ea6\u662f\u5206\u5f00\u7684\u3002</li> <li>\u4ee4\u724c\u989d\u5ea6\u4ec5\u4f9b\u7528\u6237\u8bbe\u7f6e\u6700\u5927\u4f7f\u7528\u91cf\uff0c\u7528\u6237\u53ef\u81ea\u7531\u8bbe\u7f6e\u3002</li> <li>\u63d0\u793a\u65e0\u53ef\u7528\u6e20\u9053\uff1f</li> <li>\u8bf7\u68c0\u67e5\u7684\u7528\u6237\u5206\u7ec4\u548c\u6e20\u9053\u5206\u7ec4\u8bbe\u7f6e\u3002</li> <li>\u4ee5\u53ca\u6e20\u9053\u7684\u6a21\u578b\u8bbe\u7f6e\u3002</li> <li>\u6e20\u9053\u6d4b\u8bd5\u62a5\u9519\uff1a<code>invalid character '&lt;' looking for beginning of value</code></li> <li>\u8fd9\u662f\u56e0\u4e3a\u8fd4\u56de\u503c\u4e0d\u662f\u5408\u6cd5\u7684 JSON\uff0c\u800c\u662f\u4e00\u4e2a HTML \u9875\u9762\u3002</li> <li>\u5927\u6982\u7387\u662f\u4f60\u7684\u90e8\u7f72\u7ad9\u7684 IP \u6216\u4ee3\u7406\u7684\u8282\u70b9\u88ab CloudFlare \u5c01\u7981\u4e86\u3002</li> <li>ChatGPT Next Web \u62a5\u9519\uff1a<code>Failed to fetch</code></li> <li>\u90e8\u7f72\u7684\u65f6\u5019\u4e0d\u8981\u8bbe\u7f6e <code>BASE_URL</code>\u3002</li> <li>\u68c0\u67e5\u4f60\u7684\u63a5\u53e3\u5730\u5740\u548c API Key \u6709\u6ca1\u6709\u586b\u5bf9\u3002</li> <li>\u68c0\u67e5\u662f\u5426\u542f\u7528\u4e86 HTTPS\uff0c\u6d4f\u89c8\u5668\u4f1a\u62e6\u622a HTTPS \u57df\u540d\u4e0b\u7684 HTTP \u8bf7\u6c42\u3002</li> <li>\u62a5\u9519\uff1a<code>\u5f53\u524d\u5206\u7ec4\u8d1f\u8f7d\u5df2\u9971\u548c\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5</code></li> <li>\u4e0a\u6e38\u6e20\u9053 429 \u4e86\u3002</li> <li>\u5347\u7ea7\u4e4b\u540e\u6211\u7684\u6570\u636e\u4f1a\u4e22\u5931\u5417\uff1f</li> <li>\u5982\u679c\u4f7f\u7528 MySQL\uff0c\u4e0d\u4f1a\u3002</li> <li>\u5982\u679c\u4f7f\u7528 SQLite\uff0c\u9700\u8981\u6309\u7167\u6211\u6240\u7ed9\u7684\u90e8\u7f72\u547d\u4ee4\u6302\u8f7d volume \u6301\u4e45\u5316 one-api.db \u6570\u636e\u5e93\u6587\u4ef6\uff0c\u5426\u5219\u5bb9\u5668\u91cd\u542f\u540e\u6570\u636e\u4f1a\u4e22\u5931\u3002</li> <li>\u5347\u7ea7\u4e4b\u524d\u6570\u636e\u5e93\u9700\u8981\u505a\u53d8\u66f4\u5417\uff1f</li> <li>\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\uff0c\u7cfb\u7edf\u5c06\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u81ea\u52a8\u8c03\u6574\u3002</li> <li>\u5982\u679c\u9700\u8981\u7684\u8bdd\uff0c\u6211\u4f1a\u5728\u66f4\u65b0\u65e5\u5fd7\u4e2d\u8bf4\u660e\uff0c\u5e76\u7ed9\u51fa\u811a\u672c\u3002</li> <li>\u624b\u52a8\u4fee\u6539\u6570\u636e\u5e93\u540e\u62a5\u9519\uff1a<code>\u6570\u636e\u5e93\u4e00\u81f4\u6027\u5df2\u88ab\u7834\u574f\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458</code>\uff1f</li> <li>\u8fd9\u662f\u68c0\u6d4b\u5230 ability \u8868\u91cc\u6709\u4e9b\u8bb0\u5f55\u7684\u6e20\u9053 id \u662f\u4e0d\u5b58\u5728\u7684\uff0c\u8fd9\u5927\u6982\u7387\u662f\u56e0\u4e3a\u4f60\u5220\u4e86 channel \u8868\u91cc\u7684\u8bb0\u5f55\u4f46\u662f\u6ca1\u6709\u540c\u6b65\u5728 ability \u8868\u91cc\u6e05\u7406\u65e0\u6548\u7684\u6e20\u9053\u3002</li> <li>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6e20\u9053\uff0c\u5176\u6240\u652f\u6301\u7684\u6a21\u578b\u90fd\u9700\u8981\u6709\u4e00\u4e2a\u4e13\u95e8\u7684 ability \u8868\u7684\u8bb0\u5f55\uff0c\u8868\u793a\u8be5\u6e20\u9053\u652f\u6301\u8be5\u6a21\u578b\u3002</li> </ol>"},{"location":"zh/#_15","title":"\u76f8\u5173\u9879\u76ee","text":"<ul> <li>FastGPT: \u57fa\u4e8e LLM \u5927\u8bed\u8a00\u6a21\u578b\u7684\u77e5\u8bc6\u5e93\u95ee\u7b54\u7cfb\u7edf</li> <li>ChatGPT Next Web:  \u4e00\u952e\u62e5\u6709\u4f60\u81ea\u5df1\u7684\u8de8\u5e73\u53f0 ChatGPT \u5e94\u7528</li> <li>VChart:  \u4e0d\u53ea\u662f\u5f00\u7bb1\u5373\u7528\u7684\u591a\u7aef\u56fe\u8868\u5e93\uff0c\u66f4\u662f\u751f\u52a8\u7075\u6d3b\u7684\u6570\u636e\u6545\u4e8b\u8bb2\u8ff0\u8005\u3002</li> <li>VMind:  \u4e0d\u4ec5\u81ea\u52a8\uff0c\u8fd8\u5f88\u667a\u80fd\u3002\u5f00\u6e90\u667a\u80fd\u53ef\u89c6\u5316\u89e3\u51b3\u65b9\u6848\u3002</li> </ul>"},{"location":"zh/#_16","title":"\u6ce8\u610f","text":"<p>\u672c\u9879\u76ee\u4f7f\u7528 MIT \u534f\u8bae\u8fdb\u884c\u5f00\u6e90\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5fc5\u987b\u5728\u9875\u9762\u5e95\u90e8\u4fdd\u7559\u7f72\u540d\u4ee5\u53ca\u6307\u5411\u672c\u9879\u76ee\u7684\u94fe\u63a5\u3002\u5982\u679c\u4e0d\u60f3\u4fdd\u7559\u7f72\u540d\uff0c\u5fc5\u987b\u9996\u5148\u83b7\u5f97\u6388\u6743\u3002</p> <p>\u540c\u6837\u9002\u7528\u4e8e\u57fa\u4e8e\u672c\u9879\u76ee\u7684\u4e8c\u5f00\u9879\u76ee\u3002</p> <p>\u4f9d\u636e MIT \u534f\u8bae\uff0c\u4f7f\u7528\u8005\u9700\u81ea\u884c\u627f\u62c5\u4f7f\u7528\u672c\u9879\u76ee\u7684\u98ce\u9669\u4e0e\u8d23\u4efb\uff0c\u672c\u5f00\u6e90\u9879\u76ee\u5f00\u53d1\u8005\u4e0e\u6b64\u65e0\u5173\u3002</p>"}]}